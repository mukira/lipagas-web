/*! 2.34.5 | BH: 0aabfe2ef5c1758a5124 | CH: 7f9f8f2fc8 */
/*! License information is available at licenses.txt */"use strict";(globalThis.webpackChunkrs_iphone=globalThis.webpackChunkrs_iphone||[]).push([[7723],{743:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Sa});var r=a(8168),n=a(1594),l=a.n(n),s=a(6942),i=a.n(s),o=a(2224),d=a.n(o),c=a(791),u=a(7213),m=a(5911),p=a(6637),E=a(4768),y=a(2957),g=a(6884);const f=e=>{let{state:t,handleRemoveClick:a,closeConfirmOverlay:n,...s}=e;return l().createElement("div",null,l().createElement(g.A,(0,r.A)({visible:t.removeOverlayVisible,className:"rf-tradeupremove-overlay",onClose:n,ariaLabel:"tradeupInfoOverlayHeading",contentAttrs:{"data-autom":"tradeup-confirm-dialog"}},s),l().createElement("h2",{id:"tradeupInfoOverlayHeading",className:"rf-tradeupremove-header typography-headline-reduced"},l().createElement("span",(0,m.OH)(t.overlayHeader))),l().createElement("div",{className:"rf-tradeupremove-confirm-action"},l().createElement("button",{className:"button button-super rf-tradeupremove-confirm-button",onClick:a,type:"button","data-autom":"tradeInRemoveYes"},l().createElement("span",(0,m.OH)(t.overlayRemoveButton))),l().createElement("button",{className:"as-buttonlink rf-tradeupremove-cancel-button",onClick:n,type:"button","data-autom":"tradeInRemoveNo"},l().createElement("span",(0,m.OH)(t.overlayCancelButton))))))};var b=a(5646),h=a(2684);const v=Object.freeze({INIT:1,OPEN_TRADEUP_OVERLAY:2,CLOSE_TRADEUP_OVERLAY:3,ADD_TRADEUP:4,REMOVE_TRADEUP:5,UPDATE_TRADEUP:6,OPEN_CONFIRM_REMOVE_OVERLAY:7,CLOSE_CONFIRM_REMOVE_OVERLAY:8,RENDER_TRADEUP_OVERLAY:9,UPDATE_TRADEUP_SUMMARY_ASSETS:10}),A=(e,t)=>{let{data:a}=t;return{initial:{header:d().get(a,"tradein-buyflow-initial-header",""),summaryHeader:d().get(a,"tradein-buyflow-initial-summary-header",""),modelName:d().get(a,"tradein-buyflow-initial-summary-model-name",""),icon:d().get(a,"tradein-buyflow-initial-icon",""),message:d().get(a,"tradein-buyflow-initial-message",""),summaryMessage:d().get(a,"tradein-buyflow-initial-summary-message",""),subsidyMessage:d().get(a,"subsidyMessage",""),buttonText:d().get(a,"tradein-buyflow-initial-button",""),yesTradeIn:d().get(a,"tradein-buyflow-initial-yes-tradein",""),noTradeIn:d().get(a,"tradein-buyflow-initial-no-tradein",""),learnMore:d().get(a,"tradein-initial-button-learnmore","")},selected:{header:d().get(a,"tradein-buyflow-selected-header",""),summaryHeader:d().get(a,"tradein-buyflow-selected-summary-header",""),modelName:d().get(a,"tradein-buyflow-selected-summary-model-name",""),icon:d().get(a,"tradein-buyflow-selected-icon",""),message:d().get(a,"tradein-buyflow-selected-message",""),summaryMessage:d().get(a,"tradein-buyflow-selected-summary-message",""),subsidyMessage:d().get(a,"subsidyMessage"),buttonText:d().get(a,"tradein-buyflow-selected-button",""),amount:d().get(a,"tradein-buyflow-selected-amount",""),price:d().get(a,"tradein-buyflow-selected-price","")},removed:{header:d().get(a,"tradein-buyflow-removed-header",""),message:d().get(a,"tradein-buyflow-removed-message",""),buttonText:d().get(a,"tradein-buyflow-removed-button","")},inEligibleButtonText:d().get(a,"tradein-buyflow-ineligible-button",""),inEligibleMsg:d().get(a,"tradein-buyflow-ineligible-message",""),giveBackLogo:d().get(a,"tradein-applegiveback"),defaultSelection:d().get(a,"defaultSelection"),overlayCancelButton:d().get(a,"tradein-buyflow-overlay-cancel"),overlayRemoveButton:d().get(a,"tradein-buyflow-overlay-remove"),buyflowKeys:[],buyFlowParameters:{},isAdded:!1,isRemoved:!1,isTradeUpInfoOverlayShown:!1,isDisabled:!1,isHidden:!1,isIUPFlow:!1,tradeupOverlayVisible:!1,tradeupOverlayRendered:!1,removeOverlayVisible:!1}},N=(e,t)=>{switch(t.type){case v.INIT:return A(0,t.payload);case v.RENDER_TRADEUP_OVERLAY:return{...e,tradeupOverlayRendered:!0};case v.OPEN_TRADEUP_OVERLAY:return{...e,tradeupOverlayVisible:!0};case v.CLOSE_TRADEUP_OVERLAY:return{...e,tradeupOverlayVisible:!1};case v.ADD_TRADEUP:return((e,t)=>{let{assets:a,flexTradeInSummaryAssets:r,buyFlowParameters:n,selectedTradeupOption:l,summaryParameters:s}=t;return{...e,selected:{...e.selected,header:d().get(a,"tradein-buyflow-selected-header"),summaryHeader:d().get(a,"tradein-buyflow-selected-summary-header",""),modelName:d().get(a,"tradein-buyflow-selected-summary-model-name",""),icon:d().get(a,"tradein-buyflow-selected-icon",""),message:d().get(a,"tradein-buyflow-selected-message",""),summaryMessage:d().get(a,"tradein-buyflow-selected-summary-message",""),subsidyMessage:d().get(a,"subsidyMessage",""),amount:d().get(a,"tradein-buyflow-selected-amount",""),price:d().get(a,"tradein-buyflow-selected-price",""),summaryInlineHeader:d().get(a,"tradein-buyflow-inline-result",""),summaryOverRefund:d().get(a,"tradein-buyflow-inline-overrefund"),loanData:r,financingMessage:d().get(a,"tradein-buyflow-selected-description-message")},overlayHeader:d().get(a,"tradein-buyflow-confirm-removal",""),buyflowKeys:d().keys(n),buyFlowParameters:n,isAdded:!0,selectedTradeupOption:l,summaryParameters:s}})(e,t.payload);case v.REMOVE_TRADEUP:return(e=>({...e,selected:d().omit(e.selected,["amount","price","header"]),isAdded:!1,buyflowKeys:[],buyFlowParameters:{},removeOverlayVisible:!1,selectedTradeupOption:null}))(e);case v.UPDATE_TRADEUP:return{...e,...t.payload};case v.OPEN_CONFIRM_REMOVE_OVERLAY:return{...e,removeOverlayVisible:!0};case v.CLOSE_CONFIRM_REMOVE_OVERLAY:return{...e,removeOverlayVisible:!1};case v.UPDATE_TRADEUP_SUMMARY_ASSETS:return((e,t)=>{let{assets:a,flexTradeInSummaryAssets:r}=t;return{...e,selected:{...e.selected,summaryOverRefund:d().get(a,"tradein-buyflow-inline-overrefund"),modelName:d().get(a,"tradein-buyflow-selected-summary-model-name",""),summaryHeader:d().get(a,"tradein-buyflow-selected-summary-header",""),summaryMessage:d().get(a,"tradein-buyflow-selected-summary-message",""),amount:d().get(a,"tradein-buyflow-selected-amount",""),loanData:r}}})(e,t.payload);default:return{...e}}};var O=a(2353);const T=e=>{let t={};if(e&&"string"==typeof e)try{t=JSON.parse(d().unescape(e))}catch(e){t={}}return t},R=e=>{const t=d().isString(e)||d().isBoolean(e)||d().isNumber(e);if(t)return e;if(!t&&d().isEmpty(e))return"";try{return JSON.stringify(e)}catch(e){return""}};var S=a(8108);const I=d().get(window,"asBuyFlow.storageConfig.genericPath",""),C=`${d().get(window,"apple.buyFlowPath")||d().get(window,"location.pathname")}/generic`,D=new S.uy({session:!0,expires:window.apple.buyFlowExpiry||36e5,expiryInMs:!0,hash:!0},{path:I||C,step:"generic"}),w=e=>{window.asMetrics&&!d().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,...e})},U=()=>{w({feature:"trade-in link",action:"Get Started"})},_=()=>{w({feature:"trade-in link",action:"Remove"})},k=()=>{w({feature:"trade-in confirmation overlay",action:"Remove"})},M=()=>{w({feature:"trade-in confirmation overlay",action:"Cancel"})},P=()=>{d().get(window,"asMetrics.isBFEMetricsEnabled",!1)||w({feature:"trade-in link",action:"no trade-in"})},L=(0,b.tG)("react-tradeup/use-tradeup"),H=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;const[c,u]=(0,n.useReducer)(N,{},t=>A(0,{data:{defaultSelection:e.defaultSelection,...d().get(e,"additionalContent.additionalData",{}),...d().get(e,"dynamicAssets",{})}})),m=l().useRef({}),p=l().useRef(0),E=l().useRef(null),y=r?r.join("-"):"",g=s?JSON.stringify(s):"",f=i?JSON.stringify(i):"",S=(t,a)=>{const{tradeInSummaryUrl:n}=e,l=d().get(t,"tia"),o=parseInt(l,10);(r.length>0||g||f)&&n&&!Number.isNaN(o)&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;const s={},{tia:i,tt:o,pid:c}=a||{},{tsid:m,pls:p}=l||{};if(r){const e=d().get(r,"options",{});s.product=r.part,Object.keys(e).forEach(t=>{s[`option.${t}`]=e[t]})}else t.forEach((e,t)=>{s[`parts.${t}`]=e});if(null!=i&&(s.tia=i),o&&(s.tt=o),c&&(s.pid=c),m&&p&&(s.tsid=m,s.pls=p),n){const{product:e,options:t={}}=n;s.product=e,Object.keys(t).forEach(e=>{s[`option.${e}`]=t[e]})}const E=h.k0(e,s);(0,b.hI)(E,{timeout:2e4}).then(e=>{const t=d().get(e,"body.assets",{}),a=e?.body?.summary??null;u({type:v.UPDATE_TRADEUP_SUMMARY_ASSETS,payload:{assets:t,flexTradeInSummaryAssets:a}});const r=T(D.get("tradeupBanner"));r.assets={...r.assets,...t},a&&(r.flexTradeInSummaryAssets={...r.flexTradeInSummaryAssets,...a}),D.set("tradeupBanner",R(r))}).catch(e=>{L.error(e)})}(n,r,t,s,i,a)};(0,n.useImperativeHandle)(o,()=>({reset:()=>{u({type:v.REMOVE_TRADEUP}),D.remove("tradeupBanner")}}),[]),(0,n.useEffect)(()=>{const e=T(D.get("tradeupBanner")),{isAdded:t,isRemoved:a,isHidden:r,isIUPFlow:n,isDisabled:l,buyFlowParameters:s,assets:i,flexTradeInSummaryAssets:o,selectedTradeupOption:c,summaryParameters:m}=e;d().isEmpty(e)||(t&&s&&i&&u({type:v.ADD_TRADEUP,payload:{buyFlowParameters:s,assets:i,flexTradeInSummaryAssets:o,selectedTradeupOption:c,summaryParameters:m}}),u({type:v.UPDATE_TRADEUP,payload:{isRemoved:a,isHidden:r,isIUPFlow:n,isDisabled:l,selectedTradeupOption:c}}))},[]),(0,n.useEffect)(()=>{if(y||g||f){const{buyFlowParameters:e,summaryParameters:t}=c;S(e,t)}},[y,g,f]);const I=(0,n.useMemo)(()=>{const e=d().get(c,"defaultSelection");return e?{name:d().keys(e)[0],value:e[d().keys(e)[0]]}:{}},[c.defaultSelection]);return{state:c,dispatch:u,assignRef:e=>t=>{m.current[e]=t},openOverlay:e=>{c.tradeupOverlayRendered?u({type:v.OPEN_TRADEUP_OVERLAY}):(u({type:v.RENDER_TRADEUP_OVERLAY}),setTimeout(()=>u({type:v.OPEN_TRADEUP_OVERLAY}),300)),e&&(p.current=e),U()},closeOverlay:()=>u({type:v.CLOSE_TRADEUP_OVERLAY}),openConfirmOverlay:e=>{u({type:v.OPEN_CONFIRM_REMOVE_OVERLAY}),_(),e&&(p.current=e)},closeConfirmOverlay:()=>{u({type:v.CLOSE_CONFIRM_REMOVE_OVERLAY}),M(),E.current&&E.current.focus()},handleTradeUpComplete:(a,r)=>{let{externalParams:n,tradeInTypeData:l}=a;if(n)if(r===O.G7.CONFIRM){const{assets:e,category:a}=n,r={igt:!0},s={buyFlowParameters:r,assets:e,isAdded:!0,selectedTradeupOption:O.kU.TRADE_IN};u({type:v.ADD_TRADEUP,payload:{buyFlowParameters:r,assets:e,selectedTradeupOption:O.kU.TRADE_IN}}),D.set("tradeupBanner",R(s)),t({buyFlowParameters:r,category:a,tradeInData:{tradeInTypeData:l}})}else{const{buyFlowParameters:a,assets:r,flexTradeInSummaryAssets:s,category:i,summaryParameters:o}=n,m=d().get(e,"tradeInPricesUrlParams.tradeInAmount","tia"),p=a?.tia??r?.["tradein-buyflow-selected-amount"],E=parseInt(p,10),y=Number.isNaN(E)?a:{...a,[m]:`${p}`},g={buyFlowParameters:y,assets:r,flexTradeInSummaryAssets:s,isAdded:!0,isRemoved:c.isRemoved,isHidden:c.isHidden,isIUPFlow:c.isIUPFlow,isDisabled:c.isDisabled,selectedTradeupOption:O.kU.TRADE_IN,summaryParameters:o};u({type:v.ADD_TRADEUP,payload:{buyFlowParameters:y,assets:r,flexTradeInSummaryAssets:s,selectedTradeupOption:O.kU.TRADE_IN,summaryParameters:o}}),D.set("tradeupBanner",R(g)),t({buyFlowParameters:y,category:i,tradeInData:{tradeInTypeData:l}}),S(y,o)}},handleRemoveClick:()=>{const a=d().get(e,"tradeInPricesUrlParams.tradeInAmount","tia"),r=[...c.buyflowKeys,a];u({type:v.REMOVE_TRADEUP}),D.remove("tradeupBanner"),t({isRemoved:!0,buyflowKeys:r}),k()},handleNoTradeInClick:()=>{const e={igt:!0},a={buyFlowParameters:e,isAdded:!0,selectedTradeupOption:O.kU.NO_TRADE_IN};u({type:v.ADD_TRADEUP,payload:{buyFlowParameters:e,selectedTradeupOption:O.kU.NO_TRADE_IN}}),D.set("tradeupBanner",R(a)),t({buyFlowParameters:e,tradeInData:{noTradeIn:!0},buyflowKeys:[]}),P()},handleTradeInEligible:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({type:v.UPDATE_TRADEUP,payload:e})},defaultValue:I,overlayProps:{disableFocusOut:!0,onExited:()=>{const e=d().get(m,`current[${p.current}]`);if(e){const t=e.querySelector(".rf-tradeupbanner-focus-add"),r=e.querySelector(".rf-tradeupbanner-focus-remove"),n=e.querySelector(".rf-tradeupbanner-tileoption-input");r&&c.isAdded?r.focus():t?t.focus():n&&c.selectedTradeupOption!==O.kU.NO_TRADE_IN?n.focus():a.current&&a.current.focus()}}},removeButtonRef:E}};var F=a(1265);const x=e=>{let{bootstrap:t,headerTag:a="h2",className:n}=e;const s=t?.split?.title,i=t?.split?.ledger,o=t?.split?.loanBalanceLedger,d=t?.split?.ledgerFootnote;return l().createElement("div",null,s&&l().createElement(a,(0,r.A)({className:n,"data-autom":"tradeupBannerHeader"},(0,m.OH)(s))),o&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(o))),i&&i.map(e=>l().createElement("div",(0,r.A)({key:e,className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(e)))),d&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(d))))},V=e=>{let{headerTag:t="h2",state:a}=e;const r=a?.selected?.loanData,n=i()("rf-tradeupbanner-header",F.A.BODY,{"rf-tradeupbanner-compact":a.isAdded&&a.selected.subsidyMessage});return l().createElement(l().Fragment,null,!r&&l().createElement(t,{className:n,"data-autom":"tradeupBannerHeader"},a.isAdded?l().createElement("span",(0,m.OH)(a.selected.header)):"",a.isRemoved?l().createElement("span",(0,m.OH)(a.removed.header)):"",a.isAdded||a.isRemoved?"":l().createElement("span",(0,m.OH)(a.initial.header))),r&&a.isAdded?l().createElement(x,{bootstrap:r,headerTag:t,className:n}):null)},B=e=>{let{state:t,openOverlay:a,openConfirmOverlay:n,isParentDisabled:s,part:o,a11yText:d}=e;const c=i()("as-buttonlink rf-tradeupbanner-button",{"rf-tradeupbanner-buttondisabled":t.isDisabled||s,"rf-tradeupbanner-focus-remove link-inline":t.isAdded,"rf-tradeupbanner-focus-add icon icon-after icon-pluscircle":!t.isAdded}),u=!t.tradeInEligible&&t.hasEligibleError,p=u?t.inEligibleButtonText:t.initial.buttonText;return l().createElement(l().Fragment,null,t.isAdded?l().createElement("span",(0,m.OH)(t.selected.icon)):l().createElement("span",(0,m.OH)(t.initial.icon)),l().createElement("div",{className:"rf-tradeupbanner-message typography-body-reduced","data-autom":"tradeupBannerMessage"},l().createElement("h3",{className:"rf-tradeupbanner-logo-message typography-body-reduced"},l().createElement("span",(0,m.OH)(t.giveBackLogo))),t.selected?.financingMessage?l().createElement("div",{className:"rf-tradeupbanner-message-desc"},t.isAdded&&!t.selected?.loanData?l().createElement("span",(0,m.OH)(t.selected?.financingMessage??"")):null,t.isRemoved?l().createElement("span",(0,m.OH)(t.removed?.message??"")):"",t.isAdded||t.isRemoved||t.hasEligibleError?"":l().createElement("span",(0,m.OH)(t.initial?.message??"")),u?l().createElement("span",(0,m.OH)(t.inEligibleMsg)):""):l().createElement("div",{className:"rf-tradeupbanner-message-desc"},t.isAdded?l().createElement("span",(0,m.OH)(t.selected.message)):"",t.isRemoved?l().createElement("span",(0,m.OH)(t.removed.message)):"",t.isAdded||t.isRemoved||t.hasEligibleError?"":l().createElement("span",(0,m.OH)(t.initial.message)),u?l().createElement("span",(0,m.OH)(t.inEligibleMsg)):"")),!t.isAdded&&t.initial.learnMore&&l().createElement("div",(0,r.A)({className:"rf-tradeupbanner-learnmore typography-body-reduced"},(0,m.OH)(t.initial.learnMore))),l().createElement("div",{className:"rf-tradeupbanner-action typography-body-reduced"},t.isAdded&&l().createElement("button",{className:c,onClick:()=>n(o),type:"button",disabled:s,"aria-disabled":s,"data-autom":"tradeupSelectedButton"+(o?`_${o}`:""),"data-trigger-id":"tradeup-added"},l().createElement("span",(0,m.OH)(t.selected.buttonText)),d&&l().createElement("span",(0,r.A)({className:"a11y"},(0,m.OH)(d)))),t.isRemoved&&l().createElement("button",{className:c,onClick:()=>a(o),type:"button","data-autom":"tradeupRemoveButton"+(o?`_${o}`:""),"data-trigger-id":"tradeup-removed"},l().createElement("span",(0,m.OH)(t.removed.buttonText)),d&&l().createElement("span",(0,r.A)({className:"a11y"},(0,m.OH)(d)))),!t.isAdded&&!t.isRemoved&&l().createElement("button",{className:c,onClick:()=>a(o),type:"button","data-autom":"tradeupStartButton"+(o?`_${o}`:""),disabled:t.isDisabled||s,"aria-disabled":t.isDisabled||s,"data-trigger-id":"tradeup-start"},l().createElement("span",(0,m.OH)(p)),d&&l().createElement("span",(0,r.A)({className:"a11y"},(0,m.OH)(d))))))},W=e=>{let{headerTag:t,state:a,disabled:n,assignRef:s,openOverlay:i,openConfirmOverlay:o}=e;return l().createElement(l().Fragment,null,l().createElement("div",{className:"rf-tradeupbanner-logo-top"},a.giveBackLogo),l().createElement(V,{state:a,headerTag:t}),a.isAdded&&a.selected.subsidyMessage&&l().createElement("div",(0,r.A)({className:"rf-tradeupbanner-subsidymessage"},(0,m.OH)(a.selected.subsidyMessage))),l().createElement("div",{className:"rf-tradeupbanner-message-row",ref:s(0)},l().createElement(B,{state:a,openOverlay:i,openConfirmOverlay:o,isParentDisabled:n})))};var G=a(632);const Y=e=>{let{bootstrap:t,loanAuthType:a}=e;const n=t?.title,s=t?.split?.title,o=t?.split?.ledger,d=t?.split?.loanBalanceLedger,c=t?.nextSteps?.title,u=t?.split?.ledgerFootnote;return l().createElement("div",null,s&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-header"},(0,m.OH)(s))),n&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-header"},(0,m.OH)(n))),a===O.ss.PUSH&&c&&l().createElement("div",(0,r.A)({className:i()("rf-tradeup-tileview-loan-title",F.A.CAPTION)},(0,m.OH)(c))),d&&l().createElement("div",(0,r.A)({className:i()("rf-tradeup-tileview-loan-ledger",F.A.CAPTION)},(0,m.OH)(d))),o&&o.map(e=>l().createElement("div",(0,r.A)({key:e,className:i()("rf-tradeup-tileview-loan-ledger",F.A.CAPTION)},(0,m.OH)(e)))),u&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(u))))},K=e=>{let{state:t,openConfirmOverlay:a,removeButtonRef:n,disabled:s}=e;const o=t?.selected,d=o?.financingMessage,c=o?.header??o?.summaryInlineHeader,u=o?.modelName,p=o?.summaryOverRefund||o?.summaryMessage,E=o?.buttonText,y=o?.loanData,g=t?.summaryParameters?.type;return l().createElement("div",{"data-autom":"tradeup-module-summary",className:"rf-tradeup-tileview-quote"},l().createElement("div",{className:"row"},l().createElement("div",{className:"rf-tradeup-tileview-quote-header columnn large-9 small-9"},l().createElement("span",{className:i()("icon icon-after icon-checksolid rf-tradeup-tileview-quote-icon",F.A.INTRO)}),y&&l().createElement(Y,{bootstrap:y,loanAuthType:g}),!y&&l().createElement("div",null,l().createElement("div",{className:i()("rf-tradeup-tileview-quote-label",F.A.BODY),"data-autom":"tradeuptileview-quote-label"},c&&l().createElement("span",(0,m.OH)(c))),u&&l().createElement("div",(0,r.A)({className:i()("rf-tradeup-tileview-quote-name",F.A.BODY)},(0,m.OH)(u))),p&&l().createElement("div",(0,r.A)({className:i()("rf-tradeup-tileview-quote-desc",F.A.CAPTION)},(0,m.OH)(p))),d&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-quote-desc typography-caption"},(0,m.OH)(d))))),l().createElement("div",{className:i()("rf-tradeup-tileview-action columnn large-3 small-3",F.A.BODY_REDUCED)},l().createElement("button",{type:"button","data-autom":"tradeuptileview-Remove-link",className:"as-buttonlink rf-tradeupbanner-button rf-tradeupbanner-focus-remove",onClick:()=>a(0),ref:n,disabled:s},l().createElement("span",(0,m.OH)(E))))))},q=e=>{let{state:t,disabled:a,assignRef:n,openOverlay:s,openConfirmOverlay:o,handleNoTradeInClick:c,removeButtonRef:p,isCarrierUpgradeFlow:E}=e;const y=d().get(t,"initial.summaryMessage",""),g=d().get(t,"initial.yesTradeIn",""),f=d().get(t,"initial.noTradeIn",""),b=t.isAdded&&t.selectedTradeupOption!==O.kU.NO_TRADE_IN,h=!t.isAdded||t.selectedTradeupOption===O.kU.NO_TRADE_IN;return l().createElement("div",{className:"rf-tradeup-tileview",ref:n(0)},b&&l().createElement(K,{state:t,openConfirmOverlay:o,removeButtonRef:p,disabled:a}),h&&l().createElement(u.A,{in:!b},l().createElement(G.c6,{"aria-labelledby":"tradeupbanner",className:"rf-tradeupbanner-tileoptions",tag:"div"},l().createElement(G.gW,{key:"addTradeUp",name:"tradeup-option",value:"addTradeUp",checked:t.selectedTradeupOption===O.kU.TRADE_IN,handleChange:()=>s(),"aria-haspopup":"dialog","data-autom":"choose-"+(E?"carrier-upgrade":"tradeIn"),classes:{input:"rf-tradeupbanner-tileoption-input"},disabled:a,skipChangeSelection:!0,render:e=>{let{SelectorLabel:t}=e;return l().createElement(t,null,l().createElement("div",{className:"row"},l().createElement("div",{className:"rf-tradeupbanner-tileoption-left-col form-selector-left-col column large-12 small-12"},l().createElement(G._V,{text:g}),l().createElement("div",(0,r.A)({className:"row form-label-small rf-tradeupbanner-tileoption-desc"},(0,m.OH)(y))))))}}),l().createElement(G.gW,{key:"noTradeUp",name:"tradeup-option",value:"noTradeUp",checked:t.selectedTradeupOption===O.kU.NO_TRADE_IN,handleChange:()=>c(),"data-autom":E?"noCarrierUpgrade":"noTradeUp",classes:{input:"rf-tradeupbanner-tileoption-input-notradein"},disabled:a,skipChangeSelection:!0,render:e=>{let{SelectorLabel:t}=e;return l().createElement(t,null,l().createElement("span",{className:"row"},l().createElement("span",{className:i()("form-selector-left-col","column","large-12")},l().createElement(G._V,{text:f}))))}}))))},$=l().lazy(()=>a.e(9379).then(a.bind(a,8712))),X=e=>{let{view:t,...a}=e;switch(t){case O.Pp.TILE:return l().createElement(q,a);case O.Pp.LINK:default:return l().createElement(W,a)}},j=e=>{let{view:t="link",bootstrap:a={},headerTag:s,disabled:i=!1,onTradeUpComplete:o=e=>e,headerRef:d,partNumbers:c=[],kitProduct:u,productConfig:m,imperativeHandleRef:p,isCarrierUpgradeFlow:E=!1}=e;const{state:y,assignRef:g,openOverlay:b,closeOverlay:h,openConfirmOverlay:v,closeConfirmOverlay:A,handleTradeUpComplete:N,handleRemoveClick:O,handleNoTradeInClick:T,handleTradeInEligible:R,defaultValue:S,overlayProps:I,removeButtonRef:C}=H(a,o,d,c,u,m,p);return y.initial?l().createElement("div",{className:"rf-tradeupbanner"},l().createElement("section",{className:"rf-tradeupbanner-content"},l().createElement(X,{bootstrap:a,view:t,state:y,headerTag:s,disabled:i,assignRef:g,openOverlay:b,openConfirmOverlay:v,handleNoTradeInClick:T,removeButtonRef:C,isCarrierUpgradeFlow:E}),l().createElement(f,(0,r.A)({state:y,handleRemoveClick:O,closeConfirmOverlay:A},I)),l().createElement(n.Suspense,{fallback:null},y.tradeupOverlayRendered?l().createElement($,(0,r.A)({visible:y.tradeupOverlayVisible,onClose:h,bootstrap:a,onTradeUpComplete:N,categorySelection:S,onTradeInEligible:R,onTradeInNoClick:T,view:t},I)):null))):null};var z=a(7427),Q=a(859);const J=(e,t)=>e.modules.reduce((t,a)=>{const r=e[a];return r&&r.completed?{...t,...r.selection}:t},t?{...e.unCachedSelection}:{}),Z=(e,t)=>{const{dynamicModules:a,modules:r}=e;return 0===a.filter(e=>e.type===t).length&&r.includes(t)&&a.push({type:t}),a},ee=(e,t)=>{const a=d().get(e,`${t}.selection`);if(a){const e=d().findLastIndex(Object.keys(a));if(e>-1){delete a[Object.keys(a)[e]]}}return a},te=(e,t)=>{const a={...e};switch(t.type){case O.Ko.INIT:return{...e,...t.payload.state};case O.Ko.EDIT:return{...e,tradeUpInlineCompleted:!1,isEditing:!1};case O.Ko.SAVE_INFO:return{...e,tradeInInfo:{...t.payload.tradeInInfo}};case O.Ko.SAVE:return{...e,...t.payload.savedData,save:{...e.save,moduleData:{...t.payload.moduleData},dynamicAssets:{...t.payload.dynamicAssets}}};case O.Ko.CONFIRM:return{...e,tradeUpInlineCompleted:!0,isWarmStart:!1,isEditable:!0,tradeInType:t.payload.tradeInType,assets:{...t.payload.assets}};case O.Ko.LOAN_CONFIRM:case O.Ko.IUPTRADEIN_CONFIRM:return{...e,tradeInType:t.payload.tradeInType,assets:{...t.payload.assets}};case O.Ko.ADD_TRADEUP:return{...e,isEditable:!1,isWarmStart:t.payload.isWarmStart,assets:t.payload.assets,buyFlowParameters:t.payload.buyFlowParameters,tradeInType:t.payload.tradeInType,selectedTradeupOption:t.payload.selectedTradeupOption,summaryParameters:t.payload.summaryParameters,loanTradeInSummary:t.payload.flexTradeInSummaryAssets};case O.Ko.TOGGLE_DRAWER:return{...e,showDrawer:t.payload.showDrawer,selectedTradeupOption:t.payload.selectedOption};case O.Ko.ADD_DYNAMIC_MODULES:return{...e,dynamicModules:Z(e,t.payload)};case O.Ko.UPDATE_DYNAMIC_MODULES:return{...e,dynamicModules:[...t.payload.dynamicModules]};case O.Ko.INIT_MODULE:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],moduleData:{...t.payload.moduleData},staticAssets:{...t.payload.staticAssets},initialize:!0,completed:!1,selection:null,currentPart:null,lastSectionRest:!1}};case O.Ko.CHANGE_SELECTION:return{...e,isEditing:!0,[t.payload.moduleType]:{...e[t.payload.moduleType],currentSelection:{...t.payload.currentSelection}}};case O.Ko.COMPLETE_MODULE:return{...e,unCachedSelection:{...e.unCachedSelection,...t.payload.unCachedSelection},[t.payload.moduleType]:{...e[t.payload.moduleType],selection:{...t.payload.selection},currentPart:t.payload.currentPart,completed:!0,lastSectionRest:!1}};case O.Ko.RESET_MODULE:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],selection:null,completed:!1,initialize:t.payload.preserveInit,currentSelection:{},lastSectionRest:!1}};case O.Ko.RESET_LAST_SELECTION:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],selection:ee(e,t.payload.moduleType),completed:!1,lastSectionRest:!0}};case O.Ko.UPDATE_MODULE_STATE:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],...t.payload.data}};case O.Ko.REMOVE_TRADEUP:return{...e,tradeUpInlineCompleted:!1,isWarmStart:!1,selectedTradeupOption:null,buyFlowParameters:{},showDrawer:!1};case O.Ko.COLLAPSE_TRADEUP:return{...e,tradeUpInlineCompleted:!0};case O.Ko.UPDATE_AUTOFILLDATA:return t.payload&&t.payload.modules&&Object.keys(t.payload.modules).forEach(e=>{a[e].autoFillData=t.payload.modules[e]}),a;case O.Ko.UPDATE_PARTS:return{...e,partNumbers:t.payload.partNumbers};case O.Ko.UPDATE_SUMMARY_ASSETS:return{...e,assets:t.payload.assets,loanTradeInSummary:t.payload.flexTradeinSummaryAssets};default:throw new Error}},{FEATURE:ae={},TYPE:re={},onSelectionChanged:ne=e=>e}=window?.asMetrics?.tradeIn??{},le=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.asMetrics&&!d().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,feature:"smartphone",slot:t?"upgrade":"trade-in",...e})},se=e=>{window.asMetrics&&!d().isEmpty(e)&&window.asMetrics.sendUserInteraction(e)},ie=(e,t,a)=>{le({action:e?"warm":"cold",events:e?"event266":"event265",feature:t},a)},oe=(e,t,a)=>{if(e){const r=d().get(window,"asMetrics.isBFEMetricsEnabled",!1);"tradeIn"===e?le({action:"Yes",feature:t},a):r||le({action:"No",feature:t},a)}},de=(e,t,a,r)=>{if(t&&a){const n=d().get(e,`moduleData.dictionaries.dimensions.${t}.${a}`);n&&le({action:n.modelName,part:t},r)}},ce=(e,t,a,r)=>{if(t&&a){const n=d().get(e,"moduleData.items",[]),l=d().findIndex(n,e=>e.key===t),s=d().get(n,`[${l}].options`,[]),i=d().find(s,e=>e.value===a);le({action:i?.metricText,part:`question ${l+1}`},r)}},ue=()=>{ne({feature:ae?.DEVICE?.PHONE,type:re?.CLICK,action:"verify"})},me=function(e){const t="sno"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sno")?"serial number":"IMEI";le({action:e?`warning ${t}`:`invalid ${t}`})},pe=()=>{le({part:"pin code",action:"apply"})},Ee=(e,t)=>{le({part:e,action:t?"eligible":"ineligible"})},ye=()=>{le({part:"location",action:"apply"})},ge=(e,t)=>{le({action:t?"available":"unavailable",part:e})},fe=e=>{le({action:"1"===e?"Yes":"No"})},be=e=>{const t="tradein"===e?"trade-in value":"recycle",a="tradein"===e?"event211":"event213",r=d().get(window,"asMetrics.isBFEMetricsEnabled",!1);e&&!r&&le({action:t,events:a})},he=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];le({slot:"",feature:"Step 1 - Link",part:(e?"Upgrade":"Trade-in")+" edit",action:"Selected"},e)},ve=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=`Step 1 - Link|${arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Upgrade":"Trade-in"} remove|Selected`,a="trade-in|smartphone|flexible trade-in|remove",r=e?a:t,n={eVar6:e?`D=pageName+"|${a}"`:`D=pageName+"||${t}"`};e&&(n.prop3="trade-in | flexible trade-in | remove"),se({name:r,beacon:n})},Ae=(e,t)=>{const a=`trade-in | smartphone | flexible trade-in | ${e}`,r={eVar6:`D=pageName+"|${a}"`};t&&(r.prop3=`trade-in | flexible trade-in | ${e}`),se({name:a,beacon:r})},Ne=(e,t)=>{const a=t.find(t=>t.value===e);le({action:"Selected",part:e===`${a.value}`?`${a.text}`:""})},Oe=(e,t)=>{le({action:t,part:e})},Te=e=>{le({action:e,part:""})},Re=(0,b.tG)("react-tradeup/use-tradeup-inline"),Se=(e,t,a,r,n,l,s)=>{const i=[O.G7.SAVE,O.G7.CONFIRM],o=d().filter(t,e=>!i.includes(e.type)).pop();o&&(o.type===O.G7.QUESTIONS?a({type:O.Ko.RESET_LAST_SELECTION,payload:{moduleType:o.type}}):(a({type:O.Ko.RESET_MODULE,payload:{moduleType:o.type,preserveInit:!0}}),r&&r.current&&o.type===O.G7.VERIFY&&r.current(),n&&n.current&&o.type===O.G7.PRODUCT&&n.current(),l&&l.current&&s===O.G7.LOAN_INFO&&(a({type:O.Ko.RESET_MODULE,payload:{moduleType:s,preserveInit:!0}}),l.current())))},Ie=(e,t,a,r,n,l,s,i,o,c)=>{const u=d().get(e,"category",""),{submitUrl:m,method:p}=n.moduleData,E=J(e,l),y={ppn:c||""},g=(0,Q.zJ)({...E,...e.defaultSelection,...t,...o,...y});let f,h=(0,Q.Xx)(m,g),v={};const A={tradeInAmount:d().get(i,"tradein-buyflow-selected-amount"),quote:d().get(i,"tradein-buyflow-inline-result"),subsidyMessage:d().get(i,"subsidyMessage"),assets:{...i,...v}};"POST"===p&&(h=m,f={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g});return(0,b.hI)(h,f).then(t=>(t=>{const r=d().get(t,"quoteSaved"),l=d().get(t,"proceed"),c=d().get(t,"buyFlowParameters"),m=r&&c||l,p=t?.summaryParameters??{},E=d().get(t,"redirectUrl");v={iupSummaryTitle:d().get(t,"summary-title",null),iupSummaryDescription:d().get(t,"summary-description",null)};const y=t?.summary??null,g=t?.assets??{};if(m){A.assets={...i,...v,...g},A.hasInlineError=!1,A.tradeUpInlineCompleted=!0,A.isEditable=!0,A.isWarmStart=!1,A.shouldEditFocus=!0,A.loanTradeInSummary=y,A.summaryParameters={...p};const t=d().get(n,"moduleData.tradeInType");if(d().isFunction(s)){const a={...i,...d().get(n,"moduleData.dynamicAssets",{})},l="tradein"===t?O.kU.TRADE_IN:t,m={...a,tradeInTypeData:t},f=d().get(i,"tradein-buyflow-selected-amount"),b=c?.tia??f;let h;r&&c?(h={...c},b&&(h.tia=b)):h={igt:!0},A.tradeInType=l,A.buyFlowParameters={...h};const N=d().isEmpty(e.buyFlowParameters)?[]:Object.keys(e.buyFlowParameters);s({noscroll:Boolean(E),buyFlowParameters:h,tradeInData:m,buyflowKeys:N,category:u,carrierUpgradeParams:o});const T={buyFlowParameters:h,assets:{...i,...v,...g},flexTradeInSummaryAssets:y,tradeInType:l,isAdded:!0,isIUPFlow:e.isIUPFlow,isDisabled:e.isDisabled,summaryParameters:p};D.set("tradeupInline",R(T))}be(t)}else A.hasInlineError=!0;E||a({type:O.Ko.SAVE,payload:{savedData:A,moduleData:n.moduleData,dynamicAssets:n.dynamicAssets}}),E&&(window.location.href=E)})({...t.body}))},Ce=(e,t,a,r)=>{const n=d().get(e,"dynamicModules",[]);((e,t,a)=>{t.forEach(r=>{let{type:n}=r;const l=-1===[O.G7.SAVE,O.G7.CONFIRM].indexOf(e)&&((e,t,a)=>{const r=e.map(e=>e.type),n=r.indexOf(t);return r.indexOf(a)>n})(t,e,n);l&&a({type:O.Ko.RESET_MODULE,payload:{moduleType:n}})})})(t,n,r),((e,t,a)=>{const r=d().findIndex(t,{type:e}),n=r&&r+1||1;a({type:O.Ko.UPDATE_DYNAMIC_MODULES,payload:{dynamicModules:t.slice(0,n)}})})(t,n,r),r({type:O.Ko.CHANGE_SELECTION,payload:{moduleType:t,currentSelection:a}})},De=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,o=arguments.length>8?arguments[8]:void 0;s({type:O.Ko.COMPLETE_MODULE,payload:{moduleType:t,selection:a,unCachedSelection:r,currentPart:n}});const c=t===O.G7.PRODUCT||t===O.G7.BRANDCHECK?((e,t,a)=>{const r=d().get(e,"dynamicModules",[]),n=d().findIndex(r,{type:t});return e.modules.reduce((t,a)=>{const l=e[a],s=d().findIndex(r,{type:a});return l&&l.completed&&s<=n?{...t,...l.selection}:t},a?{...e.unCachedSelection}:{})})(e,t):J(e);let u={...c};if(t===O.G7.QUESTIONS){d().get(e,"questions.moduleData.items",[]).forEach(e=>{let{keyPrefix:t,key:a}=e;delete u[`${t}${a}`]})}u={...u,...a},((e,t,a,r,n,l,s)=>{(0,Q.So)(e,t,r,{onFetch:e=>{const{module:i,assets:o}=e;if(a({type:O.Ko.ADD_DYNAMIC_MODULES,payload:i}),i===O.G7.SAVE)Ie(t,r,a,0,e,!0,n,o,l,s);else if(i===O.G7.CONFIRM){const r=d().get(e,"moduleData.tradeInType");if(a({type:O.Ko.CONFIRM,payload:{tradeInType:r,assets:d().get(e,"assets",{})}}),d().isFunction(n)){const e={tradeInType:r,recycleUnsupported:r===O.kU.RECYCLE},a=d().get(t,"category",""),l={igt:!0},s=d().isEmpty(t.buyFlowParameters)?[]:Object.keys(t.buyFlowParameters);n({buyFlowParameters:l,tradeInData:e,buyflowKeys:s,category:a})}r===O.kU.RECYCLE&&(D.remove("tradeupInline"),be(r))}else a({type:O.Ko.INIT_MODULE,payload:{moduleType:i,moduleData:d().get(e,"moduleData"),staticAssets:d().get(e,"assets",{}),selection:d().get(t,"questions.selection")}})}},l)})(t,e,s,u,l,i,o)},we=(e,t)=>{t({type:O.Ko.RESET_MODULE,payload:{moduleType:e,preserveInit:!0}})},Ue=e=>{let{bootstrap:t={},singleRowLayout:a,onTradeUpEdit:r,onTradeUpComplete:l,updateBuyflowParams:s,updateTradeInMessage:i,fullWidth:o,partNumbers:c=[],imperativeHandleRef:u,isCarrierUpgradeFlow:m=!1,selectedCarrierUpgradeOption:p={},pageSelection:E}=e;const[y,g]=(0,n.useReducer)(te,{showDrawer:!1}),f=c.join("-"),{heroPartNumber:v}=E||{},A=(0,n.useRef)(),N=(0,n.useRef)(),S=(0,n.useRef)(),I=(0,n.useRef)(),C=(0,n.useRef)(),w=(0,n.useRef)();let U={};m&&(U=d().get(p,"carrierUpgradeParams",{}));return(0,n.useEffect)(()=>{const e=T(D.get("tradeupInline"));((e,t,a,r,n,l,s)=>{const i=d().get(e,"tradeInInfoUrl"),o={dynamicModules:[],modules:[],isFlexibleTradeIn:Boolean(i)};o.staticAssets={...e.additionalContent.additionalData},o.tradeInBaseUrl=e.tradeInBaseUrl,o.defaultSelection=e.defaultSelection;const c=d().get(e,"defaultSelection.cat","smartphone");if(o.category=c,Object.keys(O.G7).forEach(e=>{const t=O.G7[e];o[t]={type:t,completed:!1,selection:null},o.modules.push(t)}),e.modules.forEach(e=>{const t=e.module;o[t].moduleData=e.moduleData,o[t].initialize=!0,o[t].bootstrapAssets=e.assets||{},o.dynamicModules.push({type:t})}),o.tradeInInfo={},r({type:O.Ko.INIT,payload:{state:o}}),!d().isEmpty(a)){const{buyFlowParameters:e,assets:t,tradeInType:n,summaryParameters:l,flexTradeInSummaryAssets:s}=a,i=n&&n!==O.kU.NO_TRADE_IN?O.kU.TRADE_IN:O.kU.NO_TRADE_IN;r({type:O.Ko.ADD_TRADEUP,payload:{buyFlowParameters:e,assets:t,tradeInType:n,isWarmStart:!0,selectedTradeupOption:i,summaryParameters:l,flexTradeInSummaryAssets:s}})}n&&!l&&ie(!d().isEmpty(a),c,s)})(t,0,e,g,!a,o,m)},[]),(0,n.useEffect)(()=>{if(c.length>0){const{tradeInInfoUrl:e,tradeInSummaryUrl:a}=t;g({type:O.Ko.UPDATE_PARTS,payload:{partNumbers:c}});!(y.isWarmStart&&Boolean(e))&&a&&Boolean(d().has(y,"buyFlowParameters.tia"))&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n={};const{tia:l,tt:s,pid:i}=a||{},{tsid:o,pls:c}=r||{};t.forEach((e,t)=>{n[`parts.${t}`]=e}),null!=l&&(n.tia=l),s&&(n.tt=s),i&&(n.pid=i),o&&c&&(n.tsid=o,n.pls=c),d().isEmpty(U)||(n={...n,...U});const u=h.k0(e,n);(0,b.hI)(u,{timeout:2e4}).then(e=>{const t=d().get(e,"body.assets",{}),a=e?.body?.summary??null;g({type:O.Ko.UPDATE_SUMMARY_ASSETS,payload:{assets:t,flexTradeinSummaryAssets:a}});const r=T(D.get("tradeupInline"));r.assets={...r.assets,...t},a&&(r.flexTradeInSummaryAssets={...r.flexTradeInSummaryAssets,...a}),D.set("tradeupInline",R(r))}).catch(e=>{Re.error(e)})}(a,c,y.buyFlowParameters,y.summaryParameters)}},[f]),(0,n.useImperativeHandle)(u,()=>({reset:()=>{const e=d().get(y,"dynamicModules",[]),t=e[0]?.type;e.forEach(e=>{let{type:t}=e;we(t,g)}),g({type:O.Ko.REMOVE_TRADEUP}),N&&N.current&&N.current(),t===O.G7.PINCODE&&I&&I.current&&I.current(),t===O.G7.VERIFY&&A&&A.current&&(A.current(),g({type:O.Ko.UPDATE_MODULE_STATE,payload:{moduleType:O.G7.VERIFY,data:{currentPart:null}}})),t===O.G7.BRANDCHECK&&C&&C.current&&C.current(),t===O.G7.LOCATION&&w&&w.current&&w.current(),D.remove("tradeupInline")}}),[y]),[y,e=>((e,t,a,r,n,l,s,i,o)=>{const c="tradeIn"===e;n({type:O.Ko.TOGGLE_DRAWER,payload:{showDrawer:c,selectedOption:e}});const u=d().isEmpty(t.buyFlowParameters)?[]:Object.keys(t.buyFlowParameters);if(c&&d().isFunction(a))a({buyflowKeys:u});else if(!c&&d().isFunction(r)){const a={igt:!0};r({buyFlowParameters:a,tradeInData:{noTradeIn:!0},buyflowKeys:u,category:d().get(t,"category","")});const o={buyFlowParameters:a,tradeInType:e,isAdded:!0};D.set("tradeupInline",R(o)),n({type:O.Ko.ADD_TRADEUP,payload:{buyFlowParameters:a,tradeInType:O.kU.NO_TRADE_IN,isWarmStart:!1,selectedTradeupOption:e}});const c=d().get(t,"dynamicModules",[]);l&&Se(0,c,n,s,i)}oe(e,t.category,o)})(e,y,r,l,g,o,A,N,m),(e,t)=>Ce(y,e,t,g),(e,t,a,r,n)=>{De(y,e,t,a,r,l,g,U,v),n&&i(n)},e=>{we(e,g)},e=>((e,t,a,r,n,l)=>{const s=d().get(t,"dynamicModules",[]);if(n){const e=[O.G7.SAVE,O.G7.CONFIRM],t=d().filter(s,t=>!e.includes(t.type)).pop();t&&t.type===O.G7.QUESTIONS&&r({type:O.Ko.UPDATE_MODULE_STATE,payload:{moduleType:t.type,data:{completed:!1}}})}else Se(0,s,r);d().isFunction(a)&&a({buyflowKeys:d().isEmpty(t.buyFlowParameters)?[]:Object.keys(t.buyFlowParameters)});r({type:O.Ko.EDIT}),he(l)})(0,y,r,g,o,m),e=>((e,t,a,r)=>{const n=T(D.get("tradeupInline")),{buyFlowParameters:l}=n,s=l?.dti;if(r({type:O.Ko.REMOVE_TRADEUP}),D.remove("tradeupInline"),d().isFunction(a)){const e=d().isEmpty(t.buyFlowParameters)?[]:Object.keys(t.buyFlowParameters);s&&e.push("dti"),a({isRemoved:!0,buyFlowParameters:t.buyFlowParameters,buyflowKeys:e})}ve(t.isFlexibleTradeIn,t.buyFlowParameters?.carrierUpgrade)})(0,y,r,g),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,Q.zJ)(t)};(0,b.hI)(e,a).then(e=>{const t=d().get(e,"body.tradeInInfo",{});let a=d().get(t,"tradeInCreditAmount");const r=d().get(t,"deferredTradeIn");"string"==typeof a&&(a=a.trim());const n=T(D.get("tradeupInline")),{buyFlowParameters:l}=n,i=-1===[void 0,null,""].indexOf(a);if(!d().isEmpty(l)&&i){l.tia=a;const e={tia:a};r&&(l.dti=r,e.dti=r),D.set("tradeupInline",R(n)),s(e)}g({type:O.Ko.SAVE_INFO,payload:{tradeInInfo:t}});const o=d().get(t,"modules");g({type:O.Ko.UPDATE_AUTOFILLDATA,payload:{modules:o}})})},()=>g({type:O.Ko.SAVE_INFO,payload:{tradeInInfo:{}}}),e=>((e,t,a,r,n)=>{if(r({type:O.Ko.COLLAPSE_TRADEUP}),d().isFunction(a)){const{tradeInData:e,buyFlowParameters:r,category:l=""}=t;a({buyFlowParameters:r,tradeInData:e,buyflowKeys:d().isEmpty(r)?[]:Object.keys(r),category:l,carrierUpgradeParams:n})}})(0,y,l,g,U),e=>A.current=e,e=>N.current=e,e=>S.current=e,e=>I.current=e,e=>C.current=e,e=>w.current=e,e=>{const t=d().get(y,"dynamicModules",[]);Se(0,t,g,"","",S,e)}]};var _e=a(837),ke=a(9932),Me=a(4067),Pe=a(9138),Le=a(3530),He=a(5925);const Fe=e=>{const{name:t,value:a="",options:r,onChange:n,label:s="Dropdown",emptyOptionLabel:i="",ariaDescribedBy:o,showModelName:d=!1,isCarrierUpgradeFlow:c=!1}=e;return l().createElement(Me.A,{name:t,value:a,onChange:e=>(e=>{n(e.target.name,e.target.value)})(e),label:s,allowNone:!1,"data-autom":`choose-${c?"carrier-upgrade-":"tradein-"}${t}`,"aria-describedby":o},l().createElement(Pe.A,{value:""},i),r.map(e=>{const a={value:e.value,key:`${t}-option-${e.value}`};return!e.disabled&&e.value?l().createElement(Pe.A,a,d?e.modelName:e.text):""}))},xe=1,Ve=3,Be=4,We=(e,t)=>{switch(t.type){case xe:return{...e,...t.payload.state};case Be:return{...e,part:t.payload.part};case Ve:return{...e,selection:{...t.payload.selection}};default:return{...e}}},Ge=e=>{const{bootstrap:t={},defaultPart:a=null,defaultSelection:s={},assets:o={},onSelectionChange:c=e=>e,onSelectionComplete:u=e=>e,fullWidth:E,productModuleResetCallback:y=e=>e,isCarrierUpgradeFlow:g=!1}=e,{viewport:f}=(0,p.S)(),[b,h]=(0,n.useReducer)(We,{part:a,selection:s}),{state:v,setDimension:A}=(0,Le.A)({part:b.part,selection:b.selection,bootstrap:t.moduleData,onSelectionChange:(e,t)=>{h({type:Ve,payload:{selection:e}}),c("product",e,t)},onPartChange:e=>{const{key:a}=t.moduleData;h({type:Be,payload:{part:e}}),e&&u("product",{[a]:e},{},e)}}),N=(e,a)=>{A(e,a),de(t,e,a,g)};(0,n.useEffect)(()=>{const e=v.dimensions.find(e=>"model"===e.key)||{},t=e.options?e.options.filter(e=>{let{value:t,disabled:a}=e;return void 0!==t&&""!==t&&!a}):[];1===t.length&&A("model",t[0].value)},[v.dimensions,A]),(0,n.useEffect)(()=>{y(()=>{A("model",null)})},[]);const O=d().get(o,"tradein-products-default-selection-label","Select"),T=e=>e&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(e)));return l().createElement("div",{className:"large-12 small-12","data-autom":"tradeup-module-products"},v.dimensions.map(e=>{const t="model"===e.key&&g,a=t?d().get(o,"carrierUpgradeHint"):e.desc,n=e.options.filter(e=>{let{value:a,disabled:r,hideWithCarrierUpgrade:n}=e;return void 0!==a&&""!==a&&!r&&!(t&&n)}),s=d().get(o,`tradein-products-${e.key}-label`),c=`${e.key}_desc`;return l().createElement("div",{className:i()(g?"rf-carrier-tradeupinline-product-dimension":"rf-tradeupinline-product-dimension",e.disabled||n.length<=1?"rf-tradeupinline-hide-dimension":""),key:`product-dimension-${e.key}`},l().createElement("div",{className:i()({row:E})},l().createElement("div",{className:i()({"large-6 small-12":E})},l().createElement(G.c6,{name:e.key,legend:(u=e.legend,l().createElement("span",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(u)))),key:e.key,className:"rf-tradeupinline-dimension-group",childAfterLegend:l().createElement(l().Fragment,null,e.subtitle&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-subtitle typography-caption"},(0,m.OH)(e.subtitle))),!E&&T(a),E&&e.tooltipDesc&&l().createElement(He.A,{content:l().createElement("span",(0,m.OH)(e.tooltipDesc)),className:"rf-tradeupinline-tooltip",position:"small"===f?"top_end":"top_start"},l().createElement("button",{className:"rf-tradeupinline-tooltip-button typography-body icon icon-after icon-questionsolid",type:"button","aria-label":e.legend})))},l().createElement("div",{className:"rf-tradeupinline-form-section"},l().createElement(Fe,{name:e.key,value:e.value,options:n,label:s,emptyOptionLabel:O,onChange:N,ariaDescribedBy:c,showModelName:t,isCarrierUpgradeFlow:g})))),E&&l().createElement("div",{id:c,className:i()("large-6","small-12",{"rf-tradeupinline-has-subtitle":e.subtitle})},T(a))));var u}))};var Ye=a(840),Ke=a(8595),qe=a(2787),$e=a(6383),Xe=a(7466);const je=1,ze=2,Qe=3,Je=(e,t)=>{switch(t.type){case je:return{...e,...t.payload};case ze:return{...e,tradeInEligibleErrorMessage:""};case Qe:return{...e,tradeInEligibleErrorMessage:"",pincodeErrorMsg:""};default:return{...e}}},Ze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0;if(!a)return;const o={[r]:n},c=n&&(0,Q.zJ)(o),u=c?(0,Q.Xx)(a,c):a,m=(0,b.tG)("react-tradeup/validatePostalCode");(0,b.hI)(u,{headers:{"x-skip-redirect":"true"}}).then(t=>(t=>{const a=d().get(t,"content.deliveryMessage.pincode",{}),{tradeInEligible:n,tradeInEligibleSuccessMessage:o="",tradeInEligibleErrorMessage:c,tradeInEligibleErrorButtonLabel:u}=a,m=a[`${r}`];e({type:je,payload:{[r]:m,isEditing:!n,tradeInEligible:n,tradeInEligibleSuccessMessage:o,tradeInEligibleErrorMessage:c,tradeInEligibleErrorButtonLabel:u}}),l(r,m),n?(e({type:Qe}),s({[r]:""}),i(O.G7.PINCODE,{[r]:m})):s({[r]:c}),Ee(m,n)})({...t.body})).catch(a=>{m.error(a),e({type:je,payload:{pincodeErrorMsg:t}})})},et=e=>{const{bootstrap:t={},assets:a,onSelectionComplete:s=e=>e,onSelectionChange:o=e=>e,pincodeModuleResetCallback:c=e=>e,fullWidth:p,onRemove:E=e=>e}=e,y=d().get(t,"moduleData.pincodeEligibilityUrl"),g=d().get(a,"tradein-inline-error"),f=d().get(a,"tradein-pincode-button-label"),b=d().get(a,"tradein-pincode-header"),h=d().get(a,"tradein-pincode-desc"),v=d().get(a,"tradein-verified-label",""),A=d().get(t,"moduleData.pincode.sections[0].fields[0][0]",{}),{name:N,rules:T,value:R,label:S,maxSize:I}=A,C=A?{[N]:T}:{},D=(0,n.useRef)(),w=(0,$e.p)(),[U,_]=(0,n.useReducer)(Je,{...t.moduleData,defaultErrorMsg:g,showPincode:!0}),k=(0,qe.A)({initialValues:{[N]:R},validationOnBlur:!0,validateOnChange:!0,validationSchema:C}),{values:M,errors:P,touched:L,setFieldValue:H,setErrors:F,handleChange:x,handleBlur:V,resetForm:B}=k,W=R||M[N]||"";(0,n.useEffect)(()=>{if(!d().get(t,"moduleData.pincode")||!w)return;const e=()=>{Ze(_,g,y,N,W,H,F,s)};e();return c(()=>{B(),o(O.G7.PINCODE),e()}),()=>{c(null)}},[w]);const Y=e=>{D.current&&D.current.focus&&D.current.focus(),e&&e.preventDefault(),Ze(_,g,y,N,M[N],H,F,s),pe()},{pincode:K,isEditing:q,pincodeErrorMsg:$="",tradeInEligibleErrorMessage:X="",tradeInEligibleSuccessMessage:j="",tradeInEligibleErrorButtonLabel:z=""}=U,Q=$||X||L[N]&&P[N],J=d().has(P,N)||!q,Z=!q&&j;return l().createElement("div",{className:"large-12 small-12 rf-tradeupinline-pincode","data-autom":"tradeup-module-pincode"},l().createElement(u.A,{in:U.showPincode,key:"mat-tradeup-inline-pincode"},l().createElement("div",{className:i()({row:p})},l().createElement("div",{className:i()({"large-6 small-12":p})},l().createElement(G.c6,{legend:l().createElement("div",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(b))),childAfterLegend:!p&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(h)))},K?l().createElement("div",{className:"rf-tradeupinline-pincode-formwrapper"},l().createElement(Ke.A,{name:N,label:S,onChange:e=>{x(e),_({type:je,payload:{isEditing:!0}}),e.target.value||_({type:ze}),o(O.G7.PINCODE)},onBlur:e=>{V(e)},maxLength:I,error:Q,value:W,onKeyUp:e=>{e.keyCode!==Ye.HP.Return||J||Y(e)},"data-autom":N,"aria-describedby":"rf-tradeupinline-pincode-success",autoComplete:"postal-code",ref:D},q?l().createElement(Ke.M,{"data-autom":f,disabled:J,onClick:Y},l().createElement("span",(0,m.OH)(f))):l().createElement("div",{role:"img","aria-labelledby":"rf-tradeupinline-pincode-verified-text",className:"rf-tradeupinline-tick form-textbox icon icon-after icon-check"},v&&l().createElement("span",(0,r.A)({className:"visuallyhidden",id:"rf-tradeupinline-pincode-verified-text"},(0,m.OH)(v)))),!p&&Z?l().createElement("div",{id:"rf-tradeupinline-pincode-success",className:"rf-tradeupinline-module-desc rf-tradeupinline-module-success"},j):null),(X||$)&&z?l().createElement(Xe.A,{className:"form-button rf-tradeupinline-pincode-error-button",type:"button",onClick:()=>{Te(z),E()}},l().createElement("span",(0,m.OH)(z))):null):null)),p&&l().createElement("div",{className:"large-6 small-12"},l().createElement("div",{className:"rf-tradeupinline-module-desc"},h&&l().createElement("div",(0,m.OH)(h)),Z&&l().createElement("div",{id:"rf-tradeupinline-pincode-success",className:"rf-tradeupinline-module-success"},j))))))},tt=1,at=2,rt=(e,t)=>{switch(t.type){case tt:return{...e,...t.payload.state};case at:return{...e,selection:{...t.payload}};default:return{...e}}},nt=e=>{const{bootstrap:t={},defaultSelection:a={},onSelectionChange:s=e=>e,onSelectionComplete:o=e=>e,fullWidth:c,brandcheckModuleResetCallback:p=e=>e}=e,E=d().get(t,"moduleData.key"),y=d().get(t,"moduleData.options"),g=d().find(y,e=>!0===e.selected),f=d().isEmpty(a)?{[E]:d().get(g,"value")}:a,[b,h]=(0,n.useReducer)(rt,{...t.moduleData,...t.bootstrapAssets,selection:{...f},showBrandCheck:!0}),v=d().get(b,"tradein-brandcheck-legend","")||d().get(t,"staticAssets.tradein-brandcheck-legend"),{key:A,options:N=[],selection:T={}}=b,R=e=>{if(!e)return;const t={[A]:e};h({type:at,payload:t}),s(O.G7.BRANDCHECK,t),o(O.G7.BRANDCHECK,t),fe(e)};(0,n.useEffect)(()=>{d().isEmpty(a)&&!d().isEmpty(g)&&(s(O.G7.BRANDCHECK,b.selection),o(O.G7.BRANDCHECK,b.selection));return p(()=>{s(O.G7.BRANDCHECK),h({type:at,payload:{[A]:null}})}),()=>{p(null)}},[]);const S=l().createElement("span",(0,r.A)({className:"rf-tradeupinline-module-header",tabIndex:-1},(0,m.OH)(v)));return l().createElement("div",{className:i()("rf-tradeupinline-brandcheck",{"large-6 small-12":c,"large-12 small-12":!c}),"data-autom":"tradeup-module-brandcheck"},l().createElement(u.A,{in:b.showBrandCheck,key:"mat-tradeup-inline-brandcheck"},l().createElement(G.c6,{withGutters:!0,legend:S},N.map(e=>l().createElement(G.sY,{key:`${e.key}_${e.value}`,name:A,value:e.value,checked:e.value===T[A],handleChange:R,className:i()({"form-selector-short":!c}),skipChangeSelection:!0,"data-autom":`choose-tradein-brand-check-option-${e.value}`},l().createElement(G._V,{text:e.text}))))))},lt=1,st=2,it=(e,t)=>{switch(t.type){case lt:return{...e,...t.payload.state};case st:return{...e,...t.payload};default:return{...e}}},ot=(e,t,a)=>{const r=e.moduleData.items.find(e=>e.key===t),n=r?r.options.find(e=>e.value===a):null;return!!n&&n.skipNext},dt=(e,t,a,r)=>{const n=d().get(e,"moduleData.items.0.keyPrefix","");e.moduleData.items.forEach((e,l)=>{if(l>=a&&t.questionsState[l].shown){const a=n+e.key;t.questionsState[l].shown=r||!1,t.questionsState[l].completed=!1,delete t.questionsState[l].value,t.selection&&t.selection[a]&&delete t.selection[a]}})},ct=e=>{const{bootstrap:t={},defaultSelection:a={},onSelectionChange:s=e=>e,onSelectionComplete:o=e=>e,fullWidth:c,isCarrierUpgradeFlow:p}=e,[E,y]=(0,n.useReducer)(it,{selection:a});(0,n.useEffect)(()=>{const e=[];t&&t.moduleData&&(t.moduleData.items.forEach((t,a)=>{e[a]={shown:0===a,completed:!1,key:t.key}}),y({type:lt,payload:{state:{questionsState:e}}}))},[]),(0,n.useEffect)(()=>{const e=[];if(t&&t.moduleData&&!t.completed){if(t.moduleData.items.forEach((t,a)=>{e[a]={shown:0===a,completed:!1,key:t.key}}),!d().isEmpty(a)&&(t.lastSectionRest&&Object.keys(a).length<Object.keys(E.selection).length||Object.keys(a).length<=Object.keys(E.selection).length)){const r=Object.keys(a),n=d().get(t,"moduleData.items.0.keyPrefix","");if(r.forEach(t=>{const r=t.split(n).pop(),l=d().findIndex(e,e=>e.key===r);e[l]={shown:!0,completed:!0,key:r,value:a[t]}}),!d().get(t,"completed")){const a=d().findLastIndex(e,e=>!0===e.completed),r=d().get(e,[a],{}),n=a+1;!ot(t,r.key,r.value)&&n<e.length&&(e[n]={...e[n],shown:!0})}}y({type:lt,payload:{state:{questionsState:e}}})}},[t.completed,t.lastSectionRest]);const g=(e,a)=>{let{currentTarget:r}=a;const{name:n,value:l}=r;((e,t,a,r,n)=>{const l=d().findIndex(e.moduleData.items,e=>e.key===r);-1!==l&&dt(e,t,l+1);const s=d().get(e,"moduleData.items.0.keyPrefix",""),i=t.selection?{...t.selection}:{},o=[...t.questionsState];i[s+r]=n,e.moduleData.items.forEach((e,t)=>{e.key===r&&(o[t].completed=!0,o[t].value=n)}),a({type:st,payload:{selection:i,questionsState:o}})})(t,E,y,n,l);const i=E.questionsState.every(e=>e.completed),c=ot(t,n,l);if(i||c){const e=d().get(t,"moduleData.items.0.keyPrefix",""),a=E.selection?{...E.selection}:{};a[e+n]=l,((e,t,a,r)=>{const n=d().findIndex(e.moduleData.items,e=>e.key===r);-1!==n&&dt(e,t,a,n+1)})(t,E,y,n),s(O.G7.QUESTIONS,E),o(O.G7.QUESTIONS,a)}else((e,t)=>{const a=d().findIndex(e.questionsState,{completed:!1}),r=[...e.questionsState];-1!==a&&(r[a].shown=!0),t({type:st,payload:{questionsState:r}})})(E,y),s(O.G7.QUESTIONS,E);ce(t,n,l,p)},f=(e,t)=>e&&t&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-module-desc",id:`rf-tradeupinline-choose-module-desc_${t}`},(0,m.OH)(e)));return l().createElement("div",{"data-autom":"tradeup-module-questions",className:"large-12 small-12 rf-tradeupinline-questions"},E.questionsState&&t.moduleData.items.map((e,t)=>{return l().createElement(u.A,{in:E.questionsState[t].shown,mountOnEnter:!0,key:`mat-${e.key}`,className:"rf-tradeupinline-question"},l().createElement("div",{className:i()({row:c})},l().createElement("div",{className:i()({"large-6 small-12":c})},l().createElement(G.c6,{name:e.key,legend:(a=e.legend,l().createElement("span",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(a)))),key:e.key,childAfterLegend:!c&&f(e.moreInfo,e.key),withGutters:!0},e.options.map(a=>l().createElement(G.sY,(0,r.A)({key:`${e.key}_${a.value}`,name:e.key,value:a.value,"data-autom":`choose-tradein-question-${t+1}-option-${a.value}`,handleChange:g,className:i()({"form-selector-short":!c}),checked:E.questionsState[t].value===a.value},"1"===a.value?{"aria-describedby":`rf-tradeupinline-choose-module-desc_${e.key}`}:{},{skipChangeSelection:!0}),l().createElement(G._V,{text:a.text}))))),c&&l().createElement("div",{className:"large-6 small-12"},f(e.moreInfo,e.key))));var a}))},ut=1,mt=2,pt=3,Et=e=>{let{state:t,formState:a,heroPartNumber:s,dispatch:i,assets:o,overallSelection:c,handleVerifyContinue:u,onSelectionComplete:p,onSelectionChange:E,onFieldChange:y}=e;const{verification:g,isEditing:f="",modelName:b,deviceVerified:h}=t,v=h&&!d().isEmpty(t.warnings),A=v?d().get(t,"warnings[0].message"):"",N=v?d().get(o,"tradein-verify-button-iup-label"):d().get(o,"tradein-verify-button-label"),O=g?d().get(g,"sections[0].fields[0][0]",{}):null,{name:T,maxSize:R,label:S}=O,{values:I,errors:C,touched:D,setErrors:w,handleChange:U,handleBlur:_,isValid:k}=a,M=d().has(C,T)||!f,P=d().get(o,"tradein-verified-label",""),L=(0,n.useRef)(),H=""!==I?.sno&&k?"verified-text sno-success":"sno-instructions",F=e=>{L.current&&L.current.focus&&L.current.focus(),u(t,s,i,c,p,e,I,w,E)};return l().createElement(l().Fragment,null,l().createElement(Ke.A,{name:T,label:S,onChange:e=>{U(e),i({type:mt,payload:{state:{...t,isEditing:!0}}}),y&&y()},onBlur:_,error:D[T]&&C[T],maxLength:R,value:I[T],onKeyUp:e=>{e.keyCode!==Ye.HP.Return||M||F(e)},"data-autom":"serialNumber",required:"required",ref:L,"aria-describedby":H},f?l().createElement(Ke.M,{"data-autom":N,disabled:M,onClick:F},l().createElement("span",(0,m.OH)(N)),!v&&l().createElement("span",(0,r.A)({className:"visuallyhidden"},(0,m.OH)(S)))):l().createElement("div",{className:"rf-tradeupinline-tick form-textbox-button icon icon-after icon-check"},P&&l().createElement("span",(0,r.A)({className:"visuallyhidden",id:"verified-text"},(0,m.OH)(P))))),g.m?g.m.map(e=>l().createElement("div",{key:e.text,className:"form-error"},l().createElement("span",(0,m.OH)(e.text)))):null,v&&A?l().createElement("div",null,l().createElement("div",{className:"rf-tradeupinline-verify-warning typography-caption"},l().createElement("span",(0,r.A)({className:"icon icon-before icon-infocircle"},(0,m.OH)(A)))),l().createElement("div",{className:"rf-tradeupinline-verify-confirm"},l().createElement(Xe.A,{"data-proceed":v,className:"form-button","data-autom":N,onClick:F},l().createElement("span",(0,m.OH)(N))))):null,b?l().createElement("div",null,b):null)},yt=e=>{let{state:t,formState:a,heroPartNumber:n,dispatch:s,assets:i,overallSelection:o,handleVerifyContinue:c,onSelectionComplete:u,onSelectionChange:p,onFieldChange:E}=e;const{verification:y,deviceVerified:g}=t,f=g&&!d().isEmpty(t.warnings),b=f?d().get(t,"warnings[0].message"):"",h=f?d().get(i,"tradein-verify-button-iup-label"):d().get(i,"tradein-verify-button-label"),v=y?d().get(y,"sections[0].fields[0][0]",{}):null,{name:A,maxSize:N,label:O}=v,{values:T,errors:R,touched:S,setErrors:I,handleChange:C,handleBlur:D,isValid:w}=a,U=d().get(T,A),_=!U||U&&!w,k=""!==T?.sno&&w?"verified-text sno-success":"sno-instructions",M=e=>c(t,n,s,o,u,e,T,I,p);return l().createElement(l().Fragment,null,l().createElement(Ke.A,{name:A,label:O,onChange:e=>{C(e),E&&E()},onBlur:D,error:S[A]&&R[A],maxLength:N,value:T[A],onKeyUp:e=>{e.keyCode!==Ye.HP.Return||_||M(e)},"data-autom":"serialNumber","aria-describedby":k}),y.m?y.m.map(e=>l().createElement("div",{key:e.text,className:"form-error"},l().createElement("span",(0,m.OH)(e.text)))):null,f&&b?l().createElement("div",{className:"rf-tradeupinline-verify-warning typography-caption"},l().createElement("span",(0,r.A)({className:"icon  icon-before icon-infocircle"},(0,m.OH)(b)))):null,l().createElement("div",null,l().createElement(Xe.A,{"data-proceed":f,className:"form-button","data-autom":h,disabled:_,onClick:M},l().createElement("span",(0,m.OH)(h)))))},gt=(e,t)=>{switch(t.type){case ut:case mt:return{...e,...t.payload.state};case pt:return{...e,isDeviceVerified:!1,warnings:null};default:return{...e}}},ft=(e,t,a,r,n,l,s,i)=>{const{verifyUrl:o,method:c}=e,u=d().get(e.verification,"sections[0].fields[0][0].name",{}),m=u?{[u]:l[u]}:null;if(!m)return;const p={...r,...m,ppn:t||""};if(!o&&!c)return i&&i(O.G7.VERIFY,{...m}),void n(O.G7.VERIFY,{...m},{},l[u]);const E=(0,Q.zJ)(p);let y,g=null;"POST"===c?(y=o,g={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E}):(y=(0,Q.Xx)(o,E),g={});(0,b.hI)(y,g).then(t=>{(t=>{if(!d().has(t,"deviceVerified"))return;const r=d().get(t,"deviceVerified",!1),o=d().get(t,"errors",[]),c=d().get(t,"warnings",[]),p=d().get(t,"modelName",null),E=d().get(t,"trade-in-iup-price-header",!1),y={...e,modelName:p,isEditing:!r},g=d().get(e.verification,"sections[0].fields[0][0].name",{});y.verification.m=[];const{pid:f,mpn:b,bid:h,mid:v,iUpTradeInEligibilityResponse:A={}}=d().get(t,"parameters",{}),{iupes:N,iuprv:T,iuplsd:R,...S}=A;if(r&&(y.selection={...y.selection,...f?{pid:f}:null,...h?{bid:h}:null,...v?{mid:v}:null,iupes:N||null,iuprv:T||null,iuplsd:R||null,...A||null,...S},y.finalSelection=b?{mpn:b}:{}),y.deviceVerified=r,y.formData={...m},y.fieldValue=l[u],y.warnings=null,r&&d().isEmpty(c))a({type:mt,payload:{state:y}}),i&&i(O.G7.VERIFY,{...m,...y.selection}),n(O.G7.VERIFY,{...m,...y.selection},{},l[u],E);else{if(d().isEmpty(o))d().isEmpty(c)||(y.warnings=c);else{const e=d().find(o,e=>e.key===g);e&&s({[g]:e.message})}a({type:mt,payload:{state:y}}),me(c.length>0,g)}})({...t.body})})},bt=(e,t,a,r,n,l,s,i,o)=>{l&&l.preventDefault(),e.deviceVerified&&!d().isEmpty(e.warnings)?(o&&o(O.G7.VERIFY,{...e.formData,...e.selection}),n(O.G7.VERIFY,{...e.formData,...e.selection},{},e.fieldValue)):ft(e,t,a,r,n,s,i,o),ue()},ht=e=>{const{bootstrap:t,assets:a,heroPartNumber:s,defaultSelection:o="",overallSelection:c={},onSelectionChange:E=e=>e,onSelectionComplete:y=e=>e,fullWidth:g,onReset:f,autoFillData:b,verifyModuleResetCallback:h=e=>e}=e,[v,A]=(0,n.useReducer)(gt,{...t.moduleData,showVerify:!0,isEditing:!0}),{verification:N}=v,{staticAssets:T,bootstrapAssets:R}=t||{},S=d().get(a,"tradein-snoimei-upfront"),I=T?.["tradein-verify-estimate-header"]??R?.["tradein-verify-estimate-header"],C=T?.["tradein-verify-estimate-desc"]??R?.["tradein-verify-estimate-desc"],D=d().get(t,"staticAssets.tradein-verify-tooltip-desc"),w=R?.["tradein-verify-success-message"]||T?.["tradein-verify-success-message"],U=N?d().get(N,"sections[0].fields[0][0]",{}):null,{name:_,rules:k,value:M}=U,P=U?{[_]:k}:{},L=b?b[_]:null,H=(0,qe.A)({initialValues:{},validationSchema:P}),F=d().get(H,"setValues",()=>{});(0,n.useEffect)(()=>{F({[_]:L||o||M})},[L,o,M,_,F]);const{viewport:x}=(0,p.S)();(0,n.useEffect)(()=>(h(()=>{H?.resetForm(),A({type:mt,payload:{state:{...v,isEditing:!0}}}),E(O.G7.VERIFY)}),()=>{h(null)}),[]);const V={state:v,formState:H,heroPartNumber:s,dispatch:A,assets:a,overallSelection:c,handleVerifyContinue:bt,onSelectionComplete:y,onSelectionChange:E,onFieldChange:()=>{E&&E(O.G7.VERIFY),f&&f(O.G7.VERIFY),A({type:pt})}},B=(e,t)=>l().createElement("div",{className:"rf-tradeupinline-module-desc"},e&&l().createElement("span",(0,r.A)({id:"sno-instructions"},(0,m.OH)(e))),v.deviceVerified&&t&&!v.isEditing&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-verify-success",id:"sno-success"},(0,m.OH)(t))));return l().createElement("div",{"data-autom":"tradeup-module-verify",className:"large-12 rf-tradeupinline-verify"},l().createElement(u.A,{in:v.showVerify,key:"mat-tradeup-inline-verify"},l().createElement("div",{className:i()({row:g})},l().createElement("div",{className:i()({"large-6 small-12":g})},l().createElement(G.c6,{name:"verify",legend:(W=I,l().createElement("div",{className:i()("rf-tradeupinline-module-header",{"rf-tradeupinline-module-header-withtooltip":D}),tabIndex:-1},l().createElement("span",(0,m.OH)(W)))),key:"verify",className:"rf-tradeupinline-dimension-group",childAfterLegend:l().createElement(l().Fragment,null,!g&&B(C,w),g&&D&&l().createElement(He.A,{content:l().createElement("span",(0,m.OH)(D)),className:"rf-tradeupinline-tooltip",position:"small"===x?"top_end":"top_start"},l().createElement("button",{className:"rf-tradeupinline-tooltip-button typography-body icon icon-after icon-questionsolid",type:"button","aria-label":I}))),withGutters:!0},N&&l().createElement("div",{className:"rf-tradeupinline-verify-formwrapper column large-12"},S?l().createElement(Et,V):l().createElement(yt,V)))),g&&l().createElement("div",{className:"large-6 small-12"},B(C,w)))));var W},vt="1",At=1,Nt=2,Ot=(e,t)=>{switch(t.type){case At:return{...e,...t.payload.state};case Nt:return{...e,selection:{...t.payload}};default:return{...e}}},Tt=e=>{const{bootstrap:t={},assets:a={},resetSelection:s=!0,heroPartNumber:o="",onSelectionChange:c=e=>e,onSelectionComplete:p=e=>e,fullWidth:E}=e,[y,g]=(0,n.useReducer)(Ot,{...t.moduleData,key:d().get(t,"moduleData.key")||t.type,selection:{},showSignIn:!1,shown:!0}),f=d().get(t,"moduleData.legend"),b=d().get(t,"moduleData.title"),h=d().get(t,"moduleData.description"),v=d().get(a,"tradein-loan-subheader"),A=d().get(a,"tradein-loan-signin-button"),N=d().get(a,"tradein-loan-confirm-button"),T=d().get(a,"tradein-loan-signin-footer"),R=d().get(a,"tradein-loan-confirm-footer");(0,n.useEffect)(()=>{s&&!E&&g({type:Nt,payload:{}})},[s]);const{key:S,options:I=[],selection:C={},showSignIn:D}=y,w=!d().isEmpty(C),U=e=>{if(!e)return;const t=e===vt,a={[S]:e};t&&o?a.ppn=o:delete a.ppn,g({type:Nt,payload:a}),g({type:At,payload:{state:{showSignIn:t}}}),Ae(t?"Yes":"No",!0)},_=()=>v?l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(v))):null;return l().createElement("div",{className:"large-12 small-12 rf-tradeupinline-loanconfirm","data-autom":"tradeup-module-loanconfirm"},l().createElement(u.A,{in:y.shown,key:"mat-tradeup-inline-loanconfirm"},l().createElement("div",{className:i()({"large-6 small-12":E})},b&&l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-header"},(0,m.OH)(b))),h&&l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(h)))),l().createElement("div",{className:i()({row:E})},l().createElement("div",{className:i()({"large-6 small-12":E})},l().createElement(G.c6,{legend:f&&l().createElement("h3",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(f))),withGutters:!0,childAfterLegend:!E&&_()},I.map(e=>l().createElement(G.sY,{key:`${e.key}_${e.value}`,name:S,value:e.value,checked:e.value===C[S],handleChange:U,skipChangeSelection:!0,className:i()({"form-selector-short":!E}),"data-autom":e.text},l().createElement(G._V,{text:e.text})))),w?l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(D?T:R))):null,w&&l().createElement(Xe.A,{className:"form-button rf-tradeupinline-loanconfirm-button","data-autom":"loanButton",disabled:!w,onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e[S];Ae((t===vt?"Yes":"No")+" | confirm"),c(O.G7.LOAN_CONFIRM,e),p(O.G7.LOAN_CONFIRM,e)}(y.selection)},l().createElement("span",(0,m.OH)(D?A:N)))),E&&l().createElement("div",{className:"large-6 small-12 rf-tradeupinline-module-loanconfirm-desc"},_()))))},Rt="1",St=1,It=(e,t)=>t.type===St?{...e,...t.payload.state}:{...e},Ct=e=>{const{bootstrap:t={},assets:a={},resetSelection:s=!0,onSelectionChange:o=e=>e,onSelectionComplete:c=e=>e,onRemove:p=e=>e,fullWidth:E}=e,[y,g]=(0,n.useReducer)(It,{...t.moduleData,key:d().get(t,"moduleData.key")||t.type,selection:{},shown:!0}),f=d().get(t,"moduleData.legend"),b=d().get(t,"moduleData.title"),h=d().get(t,"moduleData.description"),v=d().get(t,"moduleData.ledger",[]),A=d().get(a,"tradein-upgrade-footer"),{key:N,options:T=[],selection:R={}}=y;(0,n.useEffect)(()=>{s&&!E&&g({type:St,payload:{selection:{}}})},[s]);const S=e=>{if(!e)return;const t={[N]:e};g({type:St,payload:{selection:t}}),e===Rt?(o(O.G7.IUPTRADEIN_CONFIRM,t),c(O.G7.IUPTRADEIN_CONFIRM,t)):p()},I=l().createElement("div",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(f)));return l().createElement("div",{className:"large-12 small-12 rf-tradeupinline-iuptradeinconfirm","data-autom":"tradeup-module-iuptradeinconfirm"},l().createElement(u.A,{in:y.shown,key:"mat-tradeup-inline-iuptradeinconfirm"},l().createElement("div",{className:i()({"large-6 small-12":E})},b&&l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-header"},(0,m.OH)(b))),h&&l().createElement("p",(0,r.A)({className:i()("rf-tradeupinline-module-content",F.A.BODY_REDUCED)},(0,m.OH)(h)))),d().isEmpty(v)?null:l().createElement("div",{className:"rf-tradeupinline-ledger row"},l().createElement("div",{className:i()({"large-6 small-12":E})},v.map(e=>{let{value:t,label:a}=e;return l().createElement("div",{className:i()("row rf-tradeupinline-ledger-item",F.A.BODY_REDUCED),key:t},l().createElement("div",(0,r.A)({className:"column large-8 small-8 rf-tradeupinline-ledger-label"},(0,m.OH)(a))),l().createElement("div",(0,r.A)({className:"column large-4 small-4 rf-tradeupinline-ledger-value"},(0,m.OH)(t))))}))),A&&l().createElement("div",{className:i()({"large-6 small-12":E})},l().createElement("p",(0,r.A)({className:"rf-tradeupinline-module-desc"},(0,m.OH)(A)))),l().createElement("div",{className:i()({row:E})},l().createElement("div",{className:i()({"large-6 small-12":E})},l().createElement(G.c6,{legend:I,withGutters:!0},T.map(e=>l().createElement(G.sY,{key:`${e.key}_${e.value}`,name:N,value:e.value,checked:e.value===R[N],handleChange:S,skipChangeSelection:!0,className:"form-selector-short"},l().createElement(G._V,{text:e.text}))))))))},Dt=1,wt=2,Ut="2",_t=(e,t)=>{switch(t.type){case Dt:return{...e,...t.payload.state};case wt:return{...e,selection:{...t.payload}};default:return{...e}}},kt=(e,t,a,r)=>{const n=(0,Q.zJ)(t),l=n?(0,Q.Xx)(e,n):e,s=(0,b.tG)("react-tradeup/fetchIupSummaryData");(0,b.hI)(l).then(e=>(e=>{const n=d().get(e,"showSummary",!1),l=d().get(e,"tradeInParams",{}),s={...t,...l};a({type:Dt,payload:{state:e}}),n||r(O.G7.IUPTRADEIN_SUMMARY,s)})({...e.body})).catch(e=>s.error(e))},Mt=e=>{const{bootstrap:t={},defaultSelection:a={},onSelectionChange:s=e=>e,onSelectionComplete:o=e=>e,overallSelection:c={},onRemove:p=e=>e}=e,[E,y]=(0,n.useReducer)(_t,{...t.moduleData,selection:{...a}}),g=d().get(E,"submitUrl",""),{key:f,options:b=[],selection:h={},ledger:v=[],showSummary:A=!1,title:N="",description:T="",legend:R="",tradeInParams:S={}}=E;(0,n.useEffect)(()=>{g&&kt(g,c,y,o)},[]);const I=e=>{if(!e)return;const t={[f]:e,...S};y({type:wt,payload:t}),e===Ut?(s(O.G7.IUPTRADEIN_SUMMARY,t),o(O.G7.IUPTRADEIN_SUMMARY,t)):p(),Ne(e,b)},C=l().createElement("div",{className:i()("rf-tradeupinline-iupsummary-header",F.A.BODY_REDUCED),tabIndex:-1},l().createElement("span",(0,m.OH)(R)));return A?l().createElement("div",{className:"large-12 small-12 rf-tradeupinline-iupsummary","data-autom":"tradeup-module-iupsummary"},l().createElement(u.A,{in:A,key:"mat-tradeup-inline-iupsummary"},l().createElement("div",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(N))),l().createElement("div",(0,r.A)({className:i()("rf-tradeupinline-summary-desc",F.A.BODY_REDUCED)},(0,m.OH)(T))),l().createElement("div",{className:"rf-tradeupinline-ledger"},v.map(e=>{let{label:t,value:a}=e;return l().createElement("div",{className:i()("rf-tradeupinline-summary-container",F.A.BODY_REDUCED),key:t},l().createElement("span",{className:"rf-tradeupinline-summary-text"},t),l().createElement("span",{className:"rf-tradeupinline-summary-price"},a))})),l().createElement(G.c6,{withGutters:!0,legend:C},b.map(e=>l().createElement(G.sY,{key:`${e.key}_${e.value}`,name:f,value:e.value,checked:e.value===h[f],handleChange:I,skipChangeSelection:!0,className:"form-selector-short","data-autom":`choose-tradein-iup-summary-option-${e.value}`},l().createElement(G._V,{text:e.text})))))):""};var Pt=a(9704),Lt=a(7634);const Ht={UPDATE_STATE:1,RESET_ELIGIBLE_ERROR:2},Ft=(e,t)=>{switch(t.type){case Ht.UPDATE_STATE:return{...e,...t.payload};case Ht.RESET_ELIGIBLE_ERROR:return{...e,locationErrorMsg:""};default:return{...e}}},xt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!a)return;const o=r&&(0,Q.zJ)(r),c=o?(0,Q.Xx)(a,o):a,u=(0,b.tG)("react-tradeup/validateLocation");(0,b.hI)(c,{headers:{"x-skip-redirect":"true"}}).then(t=>(t=>{const a=d().get(t,"content.deliveryMessage.location",{}),{tradeInEligible:o,tradeInEligibleSuccessMessage:c="",tradeInEligibleErrorMessage:u,tradeInEligibleErrorButtonLabel:m}=a,p={};if(Object.keys(r).forEach(e=>{p[e]=a[`${e}`]}),l&&a){const e=s.localityLookupFields.reduce((e,t)=>(e[t]=a[t],e),{});i.setValues(e),Object.assign(r,e),Object.assign(p,e)}const E={...p,isEditing:!o,tradeInEligible:o,tradeInEligibleSuccessMessage:c,locationErrorMsg:u,tradeInEligibleErrorButtonLabel:m};e({type:Ht.UPDATE_STATE,payload:E}),o&&(e({type:Ht.RESET_ERRORS}),n(O.G7.LOCATION,p));const y=Object.values(r).join("/");d().isEmpty(y)||ge(y,o)})({...t.body})).catch(a=>{u.error(a),e({type:Ht.UPDATE_STATE,payload:{locationErrorMsg:t}})})},Vt=e=>{const{bootstrap:t={},assets:a,onSelectionComplete:s=e=>e,onSelectionChange:o=e=>e,fullWidth:c,onRemove:E=e=>e,locationModulResetCallback:y=e=>e}=e,{viewport:g}=(0,p.S)(),f=d().get(t,"moduleData.locationEligibilityUrl"),b=d().get(a,"tradein-inline-error"),h=d().get(a,"tradein-location-header"),v=d().get(a,"showTradeUpTooltip",!1),A=d().get(a,"tradein-location-desc"),N=d().get(a,"tradein-location-what-this-means"),T=d().get(window,"LOCATION_BOOTSTRAP",{}),R=(0,$e.p)(),{form:S,formFields:I,isFetched:C,handleSelectChange:D,handleReset:w}=(0,Pt.P)({bootstrap:T}),[U,_]=(0,n.useReducer)(Ft,{...t.moduleData,defaultErrorMsg:b,showLocation:!0}),{isEditing:k,locationErrorMsg:M="",tradeInEligibleSuccessMessage:P="",tradeInEligibleErrorButtonLabel:L=""}=U,H=!k&&P;return(0,n.useEffect)(()=>{if(!R)return;const e=function(){xt(_,b,f,{},s,arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})};e();return y(()=>{w({}),o(O.G7.LOCATION),e(!0,U,S)}),()=>{y(null)}},[R]),l().createElement("div",{className:"large-12 small-12 rf-tradeupinline-location","data-autom":"tradeup-module-location"},l().createElement(u.A,{in:U.showLocation,key:"mat-tradeup-inline-location"},l().createElement("div",{className:i()({row:c})},l().createElement("div",{className:i()({"large-6 small-12":c})},l().createElement(G.c6,{legend:l().createElement("div",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(h))),childAfterLegend:l().createElement(l().Fragment,null,v&&l().createElement(He.A,{content:l().createElement("span",(0,m.OH)(A)),className:"rf-tradeupinline-tooltip",position:"small"===g?"top_end":"top_start"},l().createElement("button",{className:"rf-tradeupinline-tooltip-button typography-body icon icon-after icon-questionsolid",type:"button","aria-label":h})),!v&&!c&&l().createElement("div",{className:"rf-tradeupoverlay-module-content"},l().createElement("span",(0,r.A)({className:"rf-tradeupoverlay-module-title"},(0,m.OH)(N))),l().createElement("span",(0,r.A)({className:"rf-tradeupoverlay-module-desc"},(0,m.OH)(A)))))},l().createElement("div",{className:i()("rf-tradeupinline-location-formwrapper",{"is-error":M})},l().createElement(Pt.A,{form:S,formFields:I,isFetched:C,handleSelectChange:e=>t=>{t&&t.preventDefault(),D(e)(t),_({type:Ht.UPDATE_STATE,payload:{isEditing:!0}}),_({type:Ht.RESET_ELIGIBLE_ERROR}),o(O.G7.LOCATION);const a=d().get(t,"target.name"),r=d().get(t,"target.value");if(Oe(a,r),0===e){(e=>{xt(_,b,f,e,s),ye()})({...d().get(S,"values"),[a]:r})}else if(H){_({type:Ht.UPDATE_STATE,payload:{isEditing:!1,tradeInEligible:null,tradeInEligibleSuccessMessage:"",locationErrorMsg:null}})}}}),!c&&H?l().createElement("div",{className:"rf-tradeupinline-module-desc rf-tradeupinline-module-success"},P):null,M&&L?l().createElement(l().Fragment,null,l().createElement(Lt.A,{error:M}),l().createElement(Xe.A,{className:"form-button rf-tradeupinline-location-error-button",type:"button",onClick:()=>{Te(L),E()}},l().createElement("span",(0,m.OH)(L)))):null))),c&&l().createElement("div",{className:"large-6 small-12"},l().createElement("div",{className:"rf-tradeupinline-module-desc"},!v&&l().createElement("div",{className:"rf-tradeupoverlay-module-content"},l().createElement("span",(0,r.A)({className:"rf-tradeupoverlay-module-title"},(0,m.OH)(N))),l().createElement("span",(0,r.A)({className:"rf-tradeupoverlay-module-desc"},(0,m.OH)(A)))),H&&l().createElement("div",{className:"rf-tradeupinline-module-success"},P))))))};var Bt=a(4018),Wt=a(2750),Gt=a(7980),Yt=a(4750);const Kt=e=>{let{loanAuthData:t={},assets:a={},overallSelection:s={},unCachedSelection:o={},onSelectionComplete:d=e=>e,handleAXLiveRegionMessaging:c=e=>e}=e;const{authStatus:u=O.WN.WAIT,authBootstrap:p={},pollingData:E={},handleWaiting:y,handleSuccess:g,handleError:f,handleTimeout:b,handleEmailAuthActions:h}=(0,Wt.A)(t,s,o,d),{title:v,description:A,countdownSecond:N,actions:T,caption:R="",a11yCaption:S="",isModuleShown:I=!0,submitUrl:C,method:D}=p??{},{startPolling:w}=(0,Gt.A)(E?.url,{urlOptions:E?.options,pollDelay:E?.delay,timeout:E?.countdown,onSuccess:g,onError:f,onTimeout:b,onWaiting:y}),U=a?.["tradein-generic-error"],_=a?.["tradein-loan-auth-wait-message"],k=u===O.WN.TIMEOUT;return(0,n.useEffect)(()=>{w()},[]),(0,n.useEffect)(()=>{c(v)},[v]),l().createElement(l().Fragment,null,I?l().createElement("div",{className:"row"},l().createElement("div",{className:"large-6 small-12"},!k&&l().createElement("div",{className:"rf-tradeupinline-loanauth","data-autom":"tradeup-module-emailauth"},l().createElement("div",{className:"rf-tradeupinline-loanauth-flex"},u===O.WN.WAIT&&l().createElement("div",{role:"img",className:"rf-tradeupinline-icon waitindicator waitindicator-inline waitindicator16-gray","aria-label":a?.processing}),u===O.WN.ERROR&&l().createElement("span",(0,r.A)({className:"rf-tradeupinline-icon-error"},(0,m.OH)(Bt))),v&&l().createElement("p",(0,r.A)({className:"rf-tradeupinline-loanauth-header typography-body-reduced"},(0,m.OH)(v)))),l().createElement("div",{className:"rf-tradeup-loanauth-description"},A&&l().createElement(l().Fragment,null,l().createElement("span",(0,r.A)({className:"rf-tradeup-loanauth-description-item typography-body-reduced"},(0,m.OH)(A))),""),u===O.WN.WAIT&&l().createElement(Yt.A,{timeout:N,key:`caption + ${E?.options?.auid??""}`,caption:R,a11yCaption:S,classes:{headline:"rf-tradeup-loanauth-description-item typography-body-reduced"},handleAXLiveRegionMessaging:c})),l().createElement("div",{className:i()("rf-tradeinline-action-button-container",{"rf-tradeinline-action-button-left":u===O.WN.WAIT})},T&&T.map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.title;return l().createElement("button",{type:"button",key:t,className:"as-buttonlink rf-tradeinline-action-button typography-body-reduced",onClick:()=>{h({submitUrl:C,method:D,...e,onSuccess:w})}},t)}))),l().createElement(Lt.A,{error:k&&U,className:"rf-tradeup-generic-inline-fetch-errormessage"})),_&&l().createElement("div",{className:"large-6 small-12"},l().createElement("div",(0,r.A)({className:i()("rf-tradeupinline-rightrail-content",F.A.CAPTION)},(0,m.OH)(_))))):null)};var qt=a(8667),$t=a(6088);const Xt=e=>{let{bootstrap:t={},loanAuthData:a={},overallSelection:s={},unCachedSelection:o={},fullWidth:d=!0,onSelectionComplete:c,handleAXLiveRegionMessaging:u=e=>e}=e;const p=t?.staticAssets?.["tradein-otp-tooltip-desc"],E=e=>{let{title:t,subtitle:a,hasDescription:n}=e;return l().createElement("div",{className:i()("rf-tradeupinline-module-header",{"rf-tradeupinline-module-header-withtooltip":n}),tabIndex:-1},l().createElement("span",(0,m.OH)(t)),a&&l().createElement("span",(0,r.A)({className:"rf-tradeupinline-module-subheader"},(0,m.OH)(a))))},y=e=>{let{description:t}=e;return l().createElement("div",{className:"rf-tradeupinline-module-desc"},l().createElement("span",(0,r.A)({id:"otp-instructions"},(0,m.OH)(t))))},{authStatus:g,authBootstrap:f={},authBootstrapData:b={},pollingData:h={},otpAuthFields:v,handleWaiting:A,handleSuccess:N,handleError:T,handleTimeout:R,handleOTPVerify:S,handleOTPResend:I,handleErrorReset:C}=(0,Wt.A)(a,s,o,c),{startPolling:D}=(0,Gt.A)(h?.url,{urlOptions:h?.options,pollDelay:h?.delay,timeout:f?.countdownSecond,onSuccess:N,onError:T,onTimeout:R,onWaiting:A}),w=h?.options?.auid,{isModuleShown:U=!0,waitMsg:_,assets:k={}}=f??{},M=f?.type||f?.errorType||"";let P=f?.errorMsg;!P&&f.errorType&&f.title&&(P=f.title);const{title:L,subtitle:H,description:F,countdownSecond:x,caption:V,a11yCaption:B}=b,[W,Y]=(0,n.useState)(!1),[K,q]=(0,n.useState)(""),$=(0,$t.A)({auid:h?.options?.auid,authStatus:g,waitMessage:K}),[X,j]=(0,n.useState)(!1),z=[O.WN.ERROR_PIN_EXPIRED,O.WN.ERROR_USER_EXCEEDED_MAX_ATTEMPTS],Q=g===O.WN.ERROR&&z.includes(M),[J,Z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g===O.WN.ERROR&&(Y(!1),M===O.WN.ERROR_PARTNER_OFFLINE||M===O.WN.ERROR_PIN_EXPIRED?ee.resetField(v?.pin?.name):M===O.WN.ERROR_USER_EXCEEDED_MAX_ATTEMPTS?Z(!0):M===O.WN.MAX_RETRY_ERROR_TYPE&&j(!0))},[g,M]);const{formState:ee,textFieldErrorMessage:te,inputRef:ae,hasBtnDisabled:re,handleKeyUp:ne,handleSubmit:le}=(0,qt.A)({disabled:W,pinField:v?.pin,errorMessage:P,handleErrorReset:C,handleOTPVerify:S}),se="rf-tradeupinline-otp-field",ie=te?`${se}_errormsg`:"otp-instructions",{values:oe,handleBlur:de,handleChange:ce}=ee;return(0,n.useEffect)(()=>{g===O.WN.WAIT&&K&&u(K)},[g,K]),(0,n.useEffect)(()=>{w&&X&&j(!1)},[w]),l().createElement(l().Fragment,null,U&&l().createElement("div",{"data-autom":"tradeup-module-otpauth",className:"large-12 rf-tradeupinline-otp"},l().createElement("div",{className:i()({row:d})},l().createElement("div",{className:i()({"large-6 small-12":d})},l().createElement(G.c6,{name:"otp",legend:l().createElement(E,{title:L,subtitle:H,hasDescription:Boolean(p)}),childAfterLegend:!d&&l().createElement(y,{description:F}),key:"otp",className:"rf-tradeupinline-dimension-group",withGutters:!0},l().createElement("div",{className:"rf-tradeupinline-quote-sublabel column large-12"},l().createElement(Ke.A,{id:se,"aria-describedby":ie,name:v?.pin?.name,label:v?.pin?.value,type:v?.pin?.type,onChange:ce,onBlur:de,error:g===O.WN.ERROR&&M!==O.WN.ERROR_PARTNER_OFFLINE&&te,value:oe[v?.pin?.name],onKeyUp:ne,"data-autom":"otpAuth",required:"required",ref:ae,disabled:W,autoComplete:"one-time-code",inputMode:"numeric"},l().createElement(Ke.M,{"data-autom":v?.verify?.value,disabled:W||re||Q||X,onClick:()=>{q(_),le(),D(),Y(!0)},name:v?.verify?.name},l().createElement("span",(0,m.OH)(v?.verify?.value)))),l().createElement(Lt.A,{className:"rf-tradeupinline-otpfield-error-message",id:`${se}_errormsg`,error:M===O.WN.ERROR_PARTNER_OFFLINE&&te}),g===O.WN.WAIT&&K&&W&&l().createElement("div",{className:"rf-tradeupinline-wait-message"},l().createElement("div",{role:"img",className:"rf-tradeupinline-icon waitindicator waitindicator-inline waitindicator16-gray","aria-label":k?.processing}),l().createElement("div",(0,m.OH)(K))),$&&l().createElement(Yt.A,{caption:V,timeout:x,a11yCaption:B,classes:{headline:"rf-tradeupinline-wait-ticker"},key:$,handleAXLiveRegionMessaging:u}),l().createElement("button",{className:"as-buttonlink as-buttonlink-inline rf-tradeupinline-resend-btn typography-body-tight",name:v?.resend?.name,type:"button",disabled:W||J,onClick:()=>{q(""),I(),D()}},v?.resend?.value)))),d&&F&&l().createElement("div",{className:"large-6 small-12"},l().createElement("div",{className:"rf-tradeupinline-module-desc"},l().createElement("span",(0,r.A)({id:"otp-instructions"},(0,m.OH)(F))))))))},jt=e=>{const t=(0,b.tG)("react-tradeup/inline-LoanDetails"),{bootstrap:a={},overallSelection:r={},onSelectionComplete:s=e=>e,assets:i,fullWidth:o,selectedTradeupOption:d,handleClearPreviousModuleSel:c=e=>e,handleAXLiveRegionMessaging:u=e=>e}=e,[p,E]=(0,n.useState)(),{userParams:y={}}=r,{submitUrl:g,method:f,authType:h}=a?.moduleData??{},v=(0,n.useRef)(""),A=p?.authentication?.details?.errorType,N=i?.["tradein-loan-auth-wait-message"],T=i?.["tradein-loading-message"];let R;switch((0,n.useEffect)(()=>{const e={...r,...y};if(delete e.userParams,g){(0,Q.In)(g,f,e).then(t=>{v.current=t?.body?.authentication?.status,E(t.body),v.current===O.WN.SUCCESS&&s(O.G7.LOAN_AUTH,{...t?.body?.authentication?.params,...e})})}else t.debug("Status URL is missing")},[]),(0,n.useEffect)(()=>{d===O.kU.NO_TRADE_IN&&E(null)},[d]),(0,n.useEffect)(()=>{A===O.WN.ERROR_PARTNER_OFFLINE&&c(O.G7.LOAN_INFO)},[A]),(0,n.useEffect)(()=>{v.current===O.WN.ERROR&&p&&u(p?.authentication?.details?.title)},[v.current,p]),h){case O.ss.PUSH:R=Kt;break;case O.ss.SMS:R=Xt}return l().createElement(l().Fragment,null,l().createElement("div",{role:"status"},h!==O.ss.SMS||v.current||p?null:l().createElement("div",{className:"rf-tradeupinline-wait-verify-message typography-body-reduced"},l().createElement("div",{role:"img",className:"rf-tradeupinline-icon waitindicator waitindicator-inline waitindicator16-gray","aria-label":T}),l().createElement("div",(0,m.OH)(N)))),v.current===O.WN.WAIT&&p?l().createElement(R,{loanAuthData:p,assets:i,overallSelection:r,fullWidth:o,onSelectionComplete:s,handleAXLiveRegionMessaging:u}):null,v.current===O.WN.ERROR&&p?l().createElement("div",{className:"is-error"},l().createElement(Lt.A,{className:"rf-tradeup-generic-inline-fetch-errormessage",error:p?.authentication?.details?.title})):null)};var zt=a(2328);const Qt=1,Jt=(e,t)=>t.type===Qt?{...e,selection:{...t.payload}}:{...e},Zt=e=>{const{bootstrap:t={},overallSelection:a,fullWidth:s,selectedTradeupOption:o,onReset:d=e=>e,onSelectionChange:c=e=>e,onSelectionComplete:p=e=>e,loanInfoModuleResetCallback:E=e=>e}=e,[y,g]=(0,n.useReducer)(Jt,{...t.moduleData,selection:{},shown:!0}),{method:f,submitUrl:b}=t?.moduleData??{},[h,v]=(0,n.useState)({}),{selection:A={}}=y,{title:N,options:T=[],description:R,key:S}=h?.confirmation??{},{title:I,description:C,iupClosure:D}=h?.loanSummary??{},{type:w}=h?.params??{};(0,n.useEffect)(()=>{(0,Q.In)(b,f,a).then(e=>{const t=e?.body?.proceed??!1,r=e?.body?.params??{};t?p(O.G7.LOAN_INFO,{...r,...a}):v({...e.body})})},[]),(0,n.useEffect)(()=>{E(()=>{g({type:Qt,payload:{selection:{}}})})},[]),(0,n.useEffect)(()=>{o===O.kU.NO_TRADE_IN&&(d(O.G7.LOAN_INFO),g({type:Qt,payload:{[S]:null}}))},[o]);return l().createElement("div",{"data-autom":"tradeup-module-loaninfo",className:"large-12 small-12 rf-tradeupinline-loanconfirm"},l().createElement(u.A,{in:y.shown,key:"mat-tradeup-inline-loanconfirm"},I&&C&&l().createElement("div",{className:i()({"large-6 small-12":s},"rf-tradeupinline-intermediary-summary")},l().createElement("p",(0,r.A)({className:`rf-tradeupinline-tia-header ${F.A.BODY_REDUCED}`},(0,m.OH)(I))),l().createElement("p",(0,r.A)({className:`rf-tradeupinline-intermediary-desc ${F.A.BODY_REDUCED}`},(0,m.OH)(C))),D&&l().createElement("p",(0,r.A)({className:`rf-tradeupinline-loansummarynote ${F.A.BODY_REDUCED}`},(0,m.OH)(D)))),l().createElement("div",{className:i()({row:s})},l().createElement("div",{className:i()({"large-6 small-12":s})},l().createElement(G.c6,{legend:N&&l().createElement("span",{className:"rf-tradeupinline-module-header",tabIndex:-1},l().createElement("span",(0,m.OH)(N))),withGutters:!0,childAfterLegend:w===O.ss.PUSH&&(R?l().createElement("p",(0,r.A)({className:i()(s?`rf-tradeupinline-module-subheader ${F.A.BODY_REDUCED}`:"rf-tradeupinline-module-desc")},(0,m.OH)(R))):null)},T.map(e=>l().createElement(G.sY,{key:`${e.key}_${e.value}`,name:S,value:e.value,checked:e.value===A[S],handleChange:t=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!e)return;const n={[S]:e,...t,...a};g({type:Qt,payload:n}),c(O.G7.LOAN_INFO,n),p(O.G7.LOAN_INFO,n),zt.A.fireLoanInfoMetrics(r)}(t,h.userParams,h.params,e.metricText)},skipChangeSelection:!0,className:i()({"form-selector-short":!s}),"data-autom":e.text},l().createElement(G._V,{text:e.text}))))),s&&R&&w===O.ss.SMS&&l().createElement("div",{className:"large-6 small-12"},l().createElement("div",{className:"rf-tradeupinline-module-desc"},l().createElement("span",(0,r.A)({id:"loan-information"},(0,m.OH)(R))))))))};var ea=a(9137);const ta=e=>{let{loanDetails:t={},saveInfo:a={},overallSelection:s={},onSelectionComplete:o}=e;const{userParams:c={},verificationText:u,loanText:p,split:E,summary:y,confirmation:g={}}=t,f=g?.key,b=(0,n.useRef)();return(0,n.useEffect)(()=>{if(!d().isEmpty(c)){const{loanConfirmationDetails:e=e=>e}=window?.asMetrics?.tradeIn??{},{otia:t=0,la:a=0}=c;e({tiv:t,elb:a})}},[]),(0,n.useEffect)(()=>{t&&b?.current&&b.current.focus()},[t,b]),l().createElement(l().Fragment,null,t&&l().createElement("div",{"data-autom":"tradeup-module-loandetails",className:"large-6 small-12"},l().createElement("div",{className:"rf-tradeupinline-loanauth"},l().createElement("div",{className:"rf-tradeupinline-loanauth-flex"},l().createElement("span",(0,r.A)({className:"rf-tradeup-icon-success"},(0,m.OH)(ea))),l().createElement("p",(0,r.A)({className:"rf-tradeupinline-loanauth-header typography-body-reduced",ref:b,tabIndex:-1},(0,m.OH)(u)))),l().createElement("p",(0,r.A)({className:"rf-tradeupinline-loan-success-desc typography-body-reduced"},(0,m.OH)(p)))),l().createElement("div",{className:"rf-tradeupinline-loanauth-breakdown"},l().createElement("p",(0,r.A)({className:"rf-tradeupinline-loanauth-subheader typography-body-reduced"},(0,m.OH)(E?.title))),E?.ledger&&E?.ledger.map(e=>l().createElement("p",(0,r.A)({key:e,className:"rf-tradeupinline-loanauth-ledger typography-body-reduced"},(0,m.OH)(e)))),E?.loanBalanceLedger&&l().createElement("p",(0,r.A)({className:"rf-tradeupinline-loanauth-balance-ledger typography-body-reduced"},(0,m.OH)(E.loanBalanceLedger))),y?.nextSteps?.description&&l().createElement("ul",{className:i()("rf-tradeupinline-loanauth-desc",F.A.CAPTION)},y.nextSteps.description.map(e=>l().createElement("li",(0,r.A)({key:e},(0,m.OH)(e)))))),g?.options&&l().createElement("div",{className:"rf-tradeup-inline-confirm-actions"},g?.options.map(e=>{let{value:t,text:n,metricText:u}=e;return l().createElement("button",(0,r.A)({type:"button",key:t,className:i()({"form-button":t===O.lR.YES,"as-buttonlink as-buttonlink-inline":t===O.lR.NO})},(0,m.OH)(n),{onClick:()=>((e,t)=>{const r={[f]:e,...c};if(d().isEmpty(a))o(O.G7.LOAN_DETAILS,r);else{const e={...s,...r},{submitUrl:t,method:n}=a??{};(0,Q.In)(t,n,e).then(e=>{const t=e?.body,a=d().get(t,"quoteSaved",!1),n=d().get(t,"buyFlowParameters",null);a&&n&&o(O.G7.LOAN_DETAILS,r)})}e===O.lR.YES?zt.A.fireLoanSuccessConfirmTradeIn(t):zt.A.fireLoanSuccessNoThanks(t)})(t,u)}))}))))},aa=l().forwardRef(ta),ra=e=>{let{bootstrap:t={},overallSelection:a={},onSelectionComplete:r=e=>e}=e;const s=(0,b.tG)("react-tradeup/inline-LoanDetails"),[i,o]=(0,n.useState)();return(0,n.useEffect)(()=>{const{userParams:e={}}=a,{submitUrl:r,method:n}=t?.moduleData??{},l={...a,...e};if(delete l.userParams,r){(0,Q.In)(r,n,l).then(e=>{o(e?.body?.loan)})}else s.debug("Status URL is missing")},[]),l().createElement(l().Fragment,null,i&&l().createElement(aa,{loanDetails:i?.info,saveInfo:i?.saveInfo,overallSelection:a,onSelectionComplete:r}))},na=e=>{let{bootstrap:t,state:a,pageSelection:r={},handleSelectionChange:n,handleModuleComplete:s,handleTradeUpRemoved:o,fullWidth:c,handleModuleReset:m,drawerOpen:p,verifyModuleResetCallback:E,productModuleResetCallback:y,loanInfoModuleResetCallback:g,pincodeModuleResetCallback:f,brandcheckModuleResetCallback:b,locationModulResetCallback:h,handleClearPreviousModuleSel:v,isCarrierUpgradeFlow:A=!1,handleAXLiveRegionMessaging:N=e=>e}=e,T=d().get(t,"additionalContent.additionalData");const R=d().get(t,"carrierUpgradeSelection.carrierUpgradeHint"),S=d().get(a,"dynamicModules",[]),I=d().get(a,"questions.selection"),{heroPartNumber:C}=r;return A&&R&&(T={...T,carrierUpgradeHint:R}),l().createElement("div",{className:i()("rf-tradeupinline-drawer",{"rf-tradeupinline-drawer-shown":a.showDrawer})},l().createElement(u.x,{in:c?a.showDrawer&&p:a.showDrawer},l().createElement("div",{className:"rf-tradeupinline-modules large-12 small-12'"},S.map(e=>{const t=d().get(a,e.type),r=`tradeupinlie-module-${e.type}`;switch(e.type){case O.G7.PINCODE:return d().get(a,"pincode.initialize")?l().createElement("div",{key:r},l().createElement(et,{bootstrap:t,assets:T,onSelectionChange:n,onSelectionComplete:s,pincodeModuleResetCallback:f,fullWidth:c,onRemove:o})):"";case O.G7.LOCATION:return d().get(a,"location.initialize")?l().createElement("div",{key:r},l().createElement(Vt,{bootstrap:t,assets:T,onSelectionChange:n,onSelectionComplete:s,fullWidth:c,onRemove:o,locationModulResetCallback:h})):"";case O.G7.BRANDCHECK:return d().get(a,"brandCheck.initialize")?l().createElement("div",{key:r},l().createElement(nt,{bootstrap:t,defaultSelection:a.brandCheck.currentSelection,onSelectionChange:n,onSelectionComplete:s,fullWidth:c,brandcheckModuleResetCallback:b})):"";case O.G7.PRODUCT:return d().get(a,"product.initialize")?l().createElement("div",{key:r},l().createElement(Ge,{bootstrap:t,assets:T,defaultPart:a.product.currentPart,defaultSelection:a.product.currentSelection,onSelectionChange:n,onSelectionComplete:s,fullWidth:c,productModuleResetCallback:y,isCarrierUpgradeFlow:A})):"";case O.G7.QUESTIONS:return d().get(a,"questions.initialize")?l().createElement("div",{key:r},l().createElement(ct,{bootstrap:t,assets:T,onSelectionChange:n,onSelectionComplete:s,defaultSelection:I,fullWidth:c,isCarrierUpgradeFlow:A})):"";case O.G7.VERIFY:return d().get(a,"verify.initialize")?l().createElement("div",{key:r},l().createElement(ht,{bootstrap:t,assets:T,heroPartNumber:C,onSelectionChange:n,onSelectionComplete:s,onReset:m,overallSelection:{...J(a),...a.defaultSelection},defaultSelection:a.verify.currentPart,autoFillData:a.verify.autoFillData,fullWidth:c,verifyModuleResetCallback:E})):"";case O.G7.LOAN_CONFIRM:return d().get(a,"loanConfirm.initialize")?l().createElement("div",{key:r},l().createElement(Tt,{bootstrap:t,assets:{...T,...d().get(a,"loanConfirm.staticAssets",{})},resetSelection:d().isEmpty(a.loanConfirm.currentSelection),heroPartNumber:C,onSelectionChange:n,onSelectionComplete:s,overallSelection:{...J(a),...a.defaultSelection},fullWidth:c})):"";case O.G7.LOAN_AUTH:return d().get(a,"loanAuth.initialize")?l().createElement("div",{key:r},l().createElement(jt,{bootstrap:t,assets:{...T,...d().get(a,"loanAuth.staticAssets",{}),...d().get(a,"loanInfo.staticAssets",{})},defaultSelection:a.loanAuth.currentSelection,overallSelection:{...J(a),...a.defaultSelection},onSelectionChange:n,onSelectionComplete:s,selectedTradeupOption:a.selectedTradeupOption,fullWidth:c,handleClearPreviousModuleSel:v,handleAXLiveRegionMessaging:N})):"";case O.G7.LOAN_INFO:return d().get(a,"loanInfo.initialize")?l().createElement("div",{key:r},l().createElement(Zt,{bootstrap:t,assets:{...T,...d().get(a,"loanInfo.staticAssets",{})},defaultSelection:a.loanInfo.currentSelection,overallSelection:{...J(a),...a.defaultSelection},onSelectionChange:n,onSelectionComplete:s,selectedTradeupOption:a.selectedTradeupOption,onReset:m,fullWidth:c,loanInfoModuleResetCallback:g,handleAXLiveRegionMessaging:N})):"";case O.G7.LOAN_DETAILS:return d().get(a,"loanDetails.initialize")?l().createElement("div",{key:r},l().createElement(ra,{bootstrap:t,assets:{...T,...d().get(a,"loanDetails.staticAssets",{})},defaultSelection:a.loanDetails.currentSelection,overallSelection:{...J(a),...a.defaultSelection},onSelectionChange:n,onSelectionComplete:s,fullWidth:c,handleAXLiveRegionMessaging:N})):"";case O.G7.IUPTRADEIN_CONFIRM:return d().get(a,"iUpTradeInConfirm.initialize")?l().createElement("div",{key:r},l().createElement(Ct,{bootstrap:t,assets:{...T,...d().get(a,"iUpTradeInConfirm.staticAssets",{})},resetSelection:d().isEmpty(a.iUpTradeInConfirm.currentSelection),onSelectionChange:n,onSelectionComplete:s,onRemove:o,overallSelection:{...J(a),...a.defaultSelection},fullWidth:c})):"";case O.G7.IUPTRADEIN_SUMMARY:return d().get(a,"iUpTradeInSummary.initialize")?l().createElement("div",{key:r},l().createElement(Mt,{bootstrap:t,assets:{...T,...d().get(a,"iUpTradeInSummary.staticAssets",{})},defaultSelection:a.iUpTradeInSummary.currentSelection,overallSelection:{...J(a),...a.defaultSelection},onSelectionChange:n,onSelectionComplete:s,onRemove:o})):""}return null}))))},la=e=>{let{message:t,logos:a,link:n}=e;return l().createElement("div",{className:i()("rf-tradeup-ribbon",F.A.BODY_REDUCED)},l().createElement("div",null,t,l().createElement("span",(0,m.OH)(n))),l().createElement("div",(0,r.A)({className:"rf-tradeup-ribbon-carrierlogos"},(0,m.OH)(a.join("")))))},sa=(e,t)=>{let{bootstrap:a,pageSelection:n,state:s,singleRowLayout:o,disabled:c,onRemove:E,handleTradeupChange:y,handleSelectionChange:g,handleModuleComplete:f,fullWidth:b,handleModuleReset:h,collapseButton:v,showContentView:A,setShowSummaryView:N,setDrawerOpen:T,drawerOpen:R,verifyModuleResetCallback:S,productModuleResetCallback:I,partNumbers:C,loanInfoModuleResetCallback:D,pincodeModuleResetCallback:w,brandcheckModuleResetCallback:U,locationModulResetCallback:_,handleClearPreviousModuleSel:k,isCarrierUpgradeFlow:M=!1,handleAXLiveRegionMessaging:P=e=>e}=e;const{viewport:L}=(0,p.S)(),H="small"===L,x=d().get(a,"tradeInSelection.options",[]),V=d().get(a,"tradeInSelection.header"),B=d().get(a,"additionalContent.additionalData.tradein-buyflow-initial-yes-tradein-desc"),W=d().get(a,"carrierPromotionLinks"),Y=d().find(C,e=>d().has(W,e)),K=W?.[Y];let q;s.selectedTradeupOption?s.selectedTradeupOption===O.kU.NO_TRADE_IN&&(q=K?.noTradeInData):q=K?.defaultTradeInData;const $=d().get(a,"additionalContent.additionalData.tradein-learnmore-link"),X=d().get(a,"additionalContent.additionalData.tradeInCarrierMessage"),j=d().get(a,"additionalContent.additionalData.tradeInCarrierMessageColdStateLogos");let z,Q=G.c6;return b?(Q=ke.A,z=H?G.gW:G.sY):z=o?G.sY:G.gW,l().createElement(u.A,{in:A,onEnter:()=>{b&&T(!0)},onExited:()=>{b&&(T(!1),N(!0))}},M?l().createElement(l().Fragment,null,!b&&l().createElement(na,{bootstrap:a,pageSelection:n,state:s,handleSelectionChange:g,handleModuleComplete:f,handleTradeUpRemoved:E,handleModuleReset:h,brandcheckModuleResetCallback:U,locationModulResetCallback:_,handleAXLiveRegionMessaging:P}),b&&l().createElement(na,{bootstrap:a,pageSelection:n,state:{...s,showDrawer:!0},handleSelectionChange:g,handleModuleComplete:f,handleTradeUpRemoved:E,fullWidth:!H&&b,handleModuleReset:h,drawerOpen:!0,verifyModuleResetCallback:S,productModuleResetCallback:I,loanInfoModuleResetCallback:D,pincodeModuleResetCallback:w,brandcheckModuleResetCallback:U,locationModulResetCallback:_,handleClearPreviousModuleSel:k,isCarrierUpgradeFlow:!0,handleAXLiveRegionMessaging:P})):l().createElement(l().Fragment,null,l().createElement(Q,{tag:"div",legend:b?void 0:l().createElement(l().Fragment,null,l().createElement("h2",(0,r.A)({className:i()("rf-tradeupinline-selection-header",F.A.BODY),tabIndex:-1,ref:t},(0,m.OH)(V))),$&&l().createElement(_e.A,{disabled:c},l().createElement("div",(0,r.A)({className:F.A.BODY_REDUCED},(0,m.OH)($))))),withGutters:o||b&&!H,role:b?"group":void 0,"aria-labelledby":b?"tradeupinline":void 0,className:i()({"rc-dimension-selector-group":b,row:b&&!H})},x.map((e,t)=>{const i=`tradeupselector-${t}`,d=e.priceMessage,u={value:e.value,id:e.value,key:i,"data-autom":`choose-${e.value}`,checked:s.selectedTradeupOption===e.value,disabled:c};return o||b||(u.childRight=l().createElement("div",(0,m.OH)(d))),l().createElement(l().Fragment,{key:i},l().createElement(z,(0,r.A)({name:"tradeupinline"},u,{handleChange:t=>{u.checked||(y(t),e.value===O.kU.TRADE_IN&&b&&T(!0))},skipChangeSelection:!0,withAriaLabeledBy:!0,"aria-describedby":X&&e.value===O.kU.TRADE_IN?"tradeup-carrier-message":void 0,classes:{left:"rf-tradeupselector-left-col"}}),l().createElement(G._V,{text:e.text}),B&&e.value===O.kU.TRADE_IN&&l().createElement("span",(0,r.A)({className:"form-label-small rf-tradeupselector-subheader"},(0,m.OH)(B))),e.savingsMessage&&o&&l().createElement("div",(0,r.A)({className:"form-label-small rf-tradeupselector-savingmessage"},(0,m.OH)(e.savingsMessage)))),e.value===O.kU.TRADE_IN&&l().createElement(l().Fragment,null,!b&&l().createElement(na,{bootstrap:a,pageSelection:n,state:s,handleSelectionChange:g,handleModuleComplete:f,handleTradeUpRemoved:E,handleModuleReset:h,brandcheckModuleResetCallback:U,locationModulResetCallback:_,handleAXLiveRegionMessaging:P}),b&&l().createElement(na,{bootstrap:a,pageSelection:n,state:s,handleSelectionChange:g,handleModuleComplete:f,handleTradeUpRemoved:E,fullWidth:!H&&b,handleModuleReset:h,drawerOpen:R,verifyModuleResetCallback:S,productModuleResetCallback:I,loanInfoModuleResetCallback:D,pincodeModuleResetCallback:w,brandcheckModuleResetCallback:U,locationModulResetCallback:_,handleClearPreviousModuleSel:k,handleAXLiveRegionMessaging:P}),b&&H&&l().createElement(l().Fragment,null,v)))}),b&&X&&j&&!s.selectedTradeupOption&&(c||!c&&!W)&&l().createElement("div",{className:i()("rf-tradeupinline-carrier-message row",F.A.BODY_REDUCED),"data-autom":"tradeupCarrierMessage"},l().createElement("div",(0,r.A)({className:"rf-carrierpromotion-ribbon-container",id:"tradeup-carrier-message"},(0,m.OH)(X))),l().createElement("span",(0,r.A)({className:"rf-tradeupinline-carrier-itemlogo"},(0,m.OH)(j))))),b&&q&&l().createElement("div",{className:"rf-tradeupinline-ribbon-wrapper"},l().createElement(la,{message:q?.message,logos:q?.logoImages,link:q?.overlayLink}))))},ia=l().forwardRef(sa),oa=e=>{let{state:t,quote:a,infoSubtitle:n,infoDescription:s,tradeInDescription:i,learnMoreLink:o,subsidyMessage:d}=e;return l().createElement(l().Fragment,null,l().createElement("div",null,l().createElement("h2",{className:"rf-tradeupinline-quote-label typography-body","data-autom":"tradeupinline-quote-label"},l().createElement("span",(0,m.OH)(a))),n&&l().createElement("h2",{className:"rf-tradeupinline-subtitle-label typography-body","data-autom":"tradeupinline-subtitle-label"},l().createElement("span",(0,m.OH)(n))),!s&&i&&(t.isWarmStart||t.isEditable)&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-desc typography-body-reduced"},(0,m.OH)(i))),s&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-desc typography-body-reduced"},(0,m.OH)(s)))),!s&&d&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-desc typography-body-reduced"},(0,m.OH)(d))),l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-link typography-body-reduced"},(0,m.OH)(o))))},da=e=>{let{iupSummarySavetitle:t,iupSummarySaveDesc:a}=e,r=null;if(a&&d().isArray(a))if(a.length>1){const e=a.length;r=a.map((t,a)=>l().createElement("div",{key:t,className:i()({"rf-tradeupinline-quote-desc":a<e-1,"rf-tradeupinline-quote-link":a===e-1},"typography-body-reduced")},l().createElement("span",(0,m.OH)(t))))}else r=l().createElement("div",{className:"rf-tradeupinline-quote-desc typography-body-reduced"},l().createElement("span",(0,m.OH)(a[0])));else r=l().createElement("span",(0,m.OH)(a));return l().createElement("div",null,l().createElement("h2",{className:"rf-tradeupinline-quote-label typography-body","data-autom":"tradeupinline-quote-label"},l().createElement("span",(0,m.OH)(t))),r)},ca=e=>{let{bootstrap:t,state:a,handleTradeUpEdit:r,handleTradeUpRemoved:s}=e;const i=d().get(t,"additionalContent.additionalData"),o=d().get(a,"assets.iupSummaryTitle",null),c=d().get(a,"assets.iupSummaryDescription",null),u=Boolean(o&&c),m=(0,n.useRef)(null),p=d().get(a,"tradeInInfo.title"),E=d().get(a,"tradeInInfo.subtitle"),y=d().get(a,"tradeInInfo.description"),g=p||d().get(a,"assets.tradein-buyflow-inline-result"),f=d().get(a,"assets.subsidyMessage"),b=a.tradeInType===O.kU.TRADE_IN&&d().isEmpty(c)?d().get(i,"tradein-buyflow-inline-desc"):"";let h="";return a.tradeInType===O.kU.TRADE_IN?h=d().get(i,"tradein-learnmore-link"):a.tradeInType===O.kU.RECYCLE&&(h=d().get(i,"recycle-learnmore-link")),(0,n.useEffect)(()=>{const{current:e}=m;e&&a.isEditable&&e.focus()},[a.isEditable]),l().createElement("div",{className:"rf-tradeupinline-quote","data-autom":"tradeup-module-inlinesummary"},l().createElement("div",{className:"rf-tradeupinline-quote-header",ref:m,tabIndex:"-1"},u?l().createElement(da,{iupSummarySavetitle:o,iupSummarySaveDesc:c}):l().createElement(oa,{state:a,quote:g,infoSubtitle:E,infoDescription:y,tradeInDescription:b,learnMoreLink:h,subsidyMessage:f})),l().createElement("div",{className:"rf-tradeupinline-action typography-body"},a.isEditable&&!a.isWarmStart?l().createElement("button",{type:"button","data-autom":"tradein-Edit-link",className:"as-buttonlink",onClick:e=>r(e)},d().get(i,"tradein-buyflow-edit-button"),l().createElement("span",{className:"visuallyhidden"},d().get(i,"tradein-buyflow-edit-button-a11y"))):l().createElement("button",{type:"button","data-autom":"tradein-Remove-link",className:"as-buttonlink",onClick:e=>s(e)},d().get(i,"tradein-buyflow-remove-button"),l().createElement("span",{className:"visuallyhidden"},d().get(i,"tradein-buyflow-remove-button-a11y")))))};var ua=a(6777);const ma=e=>{let{state:t,infoSubtitle:a,infoDescription:n,tradeInDescription:s,learnMoreLink:i,subsidyMessage:o}=e;return l().createElement(l().Fragment,null,a&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-subtitle-label typography-body"},(0,m.OH)(a))),n?l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-desc typography-body-reduced"},(0,m.OH)(n))):null,!n&&s&&(t.isWarmStart||t.isEditable)&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-desc typography-body-reduced"},(0,m.OH)(s))),!n&&o&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-subsidymessage typography-body-reduced"},(0,m.OH)(o))),i&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-link typography-body-reduced"},(0,m.OH)(i))))},pa=e=>{let{iupSummarySaveDesc:t}=e,a=null;if(t&&d().isArray(t))if(t.length>1){const e=t.length;a=t.map((t,a)=>l().createElement("div",{key:t,className:i()({"rf-tradeupinline-quote-desc":a<e-1,"rf-tradeupinline-quote-link":a===e-1},"typography-body-reduced")},l().createElement("span",(0,m.OH)(t))))}else a=l().createElement("div",{className:"rf-tradeupinline-quote-desc typography-body-reduced"},l().createElement("span",(0,m.OH)(t[0])));else a=l().createElement("span",(0,m.OH)(t));return a},Ea=e=>{let{bootstrap:t}=e;const a=t?.title,n=t?.split?.title,s=t?.split?.ledger,i=t?.split?.loanBalanceLedger,o=t?.split?.ledgerFootnote;return l().createElement("div",null,a&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-header"},(0,m.OH)(a))),n&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-header"},(0,m.OH)(n))),i&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(i))),s&&s.map(e=>l().createElement("div",(0,r.A)({key:e,className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(e)))),o&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,m.OH)(o))))},ya=e=>{let{state:t}=e;const a=d().get(t,"assets.tradein-buyflow-return-inline-result"),n=d().get(t,"assets.tradein-buyflow-return-estimated-damage-fee"),s=d().get(t,"assets.tradein-buyflow-return-inline-description"),i=d().get(t,"assets.tradein-buyflow-return-learnmore-repairoptions");return l().createElement(l().Fragment,null,a&&l().createElement("div",(0,r.A)({className:`rf-tradeupinline-quote-label ${F.A.BODY}`},(0,m.OH)(a))),n&&l().createElement("div",(0,r.A)({className:`rf-tradeupinline-quote-est ${F.A.BODY_REDUCED}`},(0,m.OH)(n))),s&&l().createElement("div",(0,r.A)({className:`rf-tradeupinline-quote-desc ${F.A.BODY_REDUCED}`},(0,m.OH)(s))),i&&l().createElement("div",(0,r.A)({className:`rf-tradeupinline-learnmore-link ${F.A.BODY_REDUCED}`},(0,m.OH)(i))))},ga=e=>{let{bootstrap:t,state:a,handleTradeUpEdit:s,handleTradeUpRemoved:i,isCarrierUpgradeFlow:o,selectedCarrierUpgradeOption:c={}}=e;const{viewport:u}=(0,p.S)(),E=d().get(t,"additionalContent.additionalData"),y=d().get(a,"assets.tradein-buyflow-selected-description-message"),g=(0,n.useRef)(null),f=d().get(a,"assets.tradein-buyflow-selected-summary-subheader"),b=d().get(a,"modelName"),h=d().get(a,"assets.tradein-buyflow-carrier-price"),v=d().get(a,"assets.tradein-buyflow-estimated-price-header"),A=d().get(a,"assets.tradein-buyflow-estimated-price-subheader"),N=d().get(a,"assets.tradein-save-quote-estimate-warm"),T=d().get(a,"assets.tradein-save-quote-estimate-desc-warm"),R=d().get(a,"assets.tradein-buyflow-inline-warm-high_value"),S=d().get(a,"assets.tradein-buyflow-estimated-carrier-price-header"),I=d().get(a,"assets.tradein-buyflow-estimated-carrier-price-subheader"),C=d().get(a,"assets.tradein-buyflow-estimated-carrier-logos"),D=d().get(a,"tradeInInfo.title"),w=d().get(a,"tradeInInfo.subtitle"),U=D||d().get(a,"assets.tradein-buyflow-inline-result"),_=d().get(a,"tradeInInfo.description"),k=d().get(a,"assets.subsidyMessage"),M=a.tradeInType===O.kU.TRADE_IN?d().get(E,"tradein-buyflow-inline-desc"):"",P=d().get(a,"assets.tradein-buyflow-or-text");let L="";a.tradeInType===O.kU.RECYCLE&&(L=d().get(E,"recycle-learnmore-link"));const H=d().get(a,"assets.iupSummaryTitle",null),F=d().get(a,"assets.iupSummaryDescription",null),x=Boolean(H&&F),V=a?.loanTradeInSummary,B=d().get(a,"assets.tradein-buyflow-promotion-message",null),W=d().get(a,"assets.tradein-buyflow-promotion-link",null);let G;return N?G=l().createElement("span",(0,m.OH)(N)):x?G=l().createElement("span",(0,m.OH)(H)):U&&(G=l().createElement("span",(0,m.OH)(U))),(0,n.useEffect)(()=>{const{current:e}=g;e&&a.isEditable&&e.focus()},[a.isEditable]),l().createElement("div",{"data-autom":"tradeup-module-inlinesummary-fullwidth",className:"rf-tradeupinline-quote"},l().createElement("div",{className:"row"},l().createElement("div",{className:"rf-tradeupinline-quote-header columnn large-10 small-12"},o?l().createElement(ua.Ay,{className:"rf-tradeupinline-quote-img-icon",data:d().get(c,"carrierLogo")}):l().createElement("span",{className:"icon icon-after icon-checksolid rf-tradeupinline-quote-icon"}),l().createElement("div",{className:"rf-tradeupinline-quote-container",ref:g,tabIndex:"-1","data-autom":"summary-quote-container"},o?l().createElement(ya,{state:a}):V?l().createElement(Ea,{bootstrap:V}):l().createElement(l().Fragment,null,l().createElement("div",{className:"rf-tradeupinline-quote-label typography-body","data-autom":"tradeupinline-quote-label",id:"trade-in-edit-label"},G,b&&l().createElement("span",(0,m.OH)(` : ${b}`))),f&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-subheader typography-body","data-autom":"tradeupinline-quote-subheader"},(0,m.OH)(f))),!x&&!N&&(v||P||h)&&l().createElement("div",{className:"rf-tradeupinline-quote-price-container row"},v&&l().createElement(l().Fragment,null,l().createElement("div",{className:"rf-tradeupinline-quote-priceheader-container column large-6 small-12"},l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-priceheader typography-body-reduced"},(0,m.OH)(v))),l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-price-subheader typography-intro-elevated"},(0,m.OH)(A)))),S&&l().createElement("div",{className:"rf-tradeupinline-carrierprice-container large-6 small-12"},l().createElement("div",(0,r.A)({className:"rf-tradeupinline-carrier-priceheader typography-body-reduced"},(0,m.OH)(S))),l().createElement("div",{className:"rf-tradeupinline-carrier-container"},l().createElement("div",(0,r.A)({className:"rf-tradeupinline-carrier-pricesubheader typography-intro-elevated"},(0,m.OH)(I))),l().createElement("div",(0,r.A)({className:"rf-tradeupinline-carrier-logos"},(0,m.OH)(C)))))),"small"===u&&P&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-ortext typography-body-reduced"},(0,m.OH)(P))),h&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-quote-carrierprice-section column large-6 small-12"},(0,m.OH)(h)))),T&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-warm-quote-desc typography-body-reduced","data-autom":"tradeupinline-warm-quote-desc"},(0,m.OH)(T))),R&&l().createElement("div",(0,r.A)({className:"rf-tradeupinline-warm-high-desc typography-body-reduced","data-autom":"tradeupinline-warm-quote-high"},(0,m.OH)(R))),x?l().createElement(pa,{iupSummarySaveDesc:F}):!N&&l().createElement(ma,{state:a,infoSubtitle:w,infoDescription:_,tradeInDescription:M,learnMoreLink:L,subsidyMessage:k}),!N&&y&&l().createElement("div",(0,r.A)({className:"rf-tradeup-tileview-quote-desc typography-caption"},(0,m.OH)(y))),C&&B&&l().createElement("div",{className:"rf-tradeupinline-promotion-container"},l().createElement("div",{className:"rf-tradeupinline-promotion-message typography-body-reduced"},B,W&&l().createElement("span",(0,r.A)({className:"as-buttonlink"},(0,m.OH)(W)))),l().createElement("div",(0,r.A)({className:"rf-tradeup-ribbon-carrierlogos"},(0,m.OH)(C))))))),l().createElement("div",{className:"rf-tradeupinline-action typography-body columnn large-2 small-12"},a.isEditable&&!a.isWarmStart?l().createElement("button",{type:"button","data-autom":"tradein-Edit-link",className:"as-buttonlink",onClick:e=>s(e),"aria-describedby":"trade-in-edit-label"},d().get(E,"tradein-buyflow-edit-button"),l().createElement("span",{className:"visuallyhidden"},d().get(E,"tradein-buyflow-edit-button-a11y"))):l().createElement("button",{type:"button","data-autom":"tradein-Remove-link",className:"as-buttonlink",onClick:e=>i(e)},d().get(E,"tradein-buyflow-remove-button"),l().createElement("span",{className:"visuallyhidden"},d().get(E,"tradein-buyflow-remove-button-a11y"))))))},fa=e=>{let{state:t,fullWidth:a,showSummaryView:r,handleTradeUpCollapse:n,setShowContentView:s,setDrawerOpen:i}=e;const{assets:o}=(0,p.S)();return a&&t.isEditable&&!t.isEditing&&!r?l().createElement("div",{className:"rf-tradeupinline-collapse typography-body"},l().createElement("button",{type:"button",className:"as-buttonlink rf-tradeupinline-collapse-button","data-autom":"tradeupinline-collapseButton",onClick:e=>{i(!1),s(!1),setTimeout(()=>{n(e)},400)}},l().createElement("span",(0,m.OH)(o.collapse||"Collapse")),l().createElement("span",{className:"icon icon-after icon-chevronup rf-tradeupinline-collapse-icon"}))):null},ba=e=>{let{bootstrap:t,pageSelection:a={},singleRowLayout:r=!1,onTradeUpEdit:s=e=>e,onTradeUpComplete:o=e=>e,updateBuyflowParams:c=e=>e,updateTradeInMessage:m=e=>e,disabled:E,fullWidth:y=!1,headerRef:g,etkn:f,partNumbers:b=[],imperativeHandleRef:v,isCarrierUpgradeFlow:A=!1,selectedCarrierUpgradeOption:N}=e;const[T,R,S,I,C,D,w,U,_,k,M,P,L,H,F,x,V]=Ue({bootstrap:t,singleRowLayout:r,onTradeUpEdit:s,onTradeUpComplete:o,updateBuyflowParams:c,updateTradeInMessage:m,fullWidth:y,partNumbers:b,imperativeHandleRef:v,isCarrierUpgradeFlow:A,selectedCarrierUpgradeOption:N,pageSelection:a}),B=(0,n.useRef)(null),{viewport:W}=(0,p.S)(),[G,Y]=(0,z.oM)({resetDelay:6e3}),K="small"===W,q=()=>setTimeout(()=>{y&&g&&g.current?g.current.querySelector("h2")?.focus():B.current&&B.current.focus()},100),$=(T.tradeUpInlineCompleted||T.isWarmStart)&&T.tradeInType!==O.kU.NO_TRADE_IN,[X,j]=(0,n.useState)(!$),[Q,J]=(0,n.useState)($),[Z,ee]=(0,n.useState)(!y),te=!T.isWarmStart||T.tradeInType===O.kU.NO_TRADE_IN,{tradeInInfoUrl:ae}=t;return(0,n.useEffect)(()=>{if(!ae)return;const{buyFlowParameters:e,isWarmStart:t}=T;t&&!d().isEmpty(e)?U(ae,e):_()},[T.isWarmStart,ae]),(0,n.useEffect)(()=>{const e=new URLSearchParams(window.location.search.slice(1)),t=e?e.get("iiup"):null;if(t&&"true"===t&&f){const e=h.k0(ae,{etkn:f});U(e)}},[ae,f]),(0,n.useEffect)(()=>{$?(j(!1),J(!0)):(j(!0),J(!1))},[$]),l().createElement("div",{className:i()("rf-tradeupinline-mainwrapper",{"rf-tradeupinline-mainwrapper-fullwidth":y})},l().createElement(z.Ay,{"aria-atomic":"true",message:G}),Q&&!y&&l().createElement(ca,{bootstrap:t,state:T,handleTradeUpEdit:e=>(q(),J(!1),D(e)),handleTradeUpRemoved:e=>(q(),w(e))}),Q&&y&&l().createElement(u.A,{in:Q,onExited:()=>{y&&(ee(!1),j(!0))}},l().createElement(ga,{bootstrap:t,state:T,handleTradeUpEdit:e=>(q(),J(!1),D(e)),handleTradeUpRemoved:e=>(q(),w(e)),isCarrierUpgradeFlow:A,selectedCarrierUpgradeOption:N})),te&&l().createElement(ia,{bootstrap:t,state:T,singleRowLayout:r,disabled:E,handleTradeupChange:e=>R(e),handleSelectionChange:S,handleModuleComplete:I,onRemove:()=>{q(),R(O.kU.NO_TRADE_IN)},pageSelection:a,ref:B,fullWidth:y,handleModuleReset:C,collapseButton:l().createElement(fa,{state:T,fullWidth:y,showSummaryView:Q,handleTradeUpCollapse:k,setShowContentView:j,setDrawerOpen:ee}),showContentView:X,setShowSummaryView:J,drawerOpen:Z,setDrawerOpen:ee,verifyModuleResetCallback:M,productModuleResetCallback:P,partNumbers:b,loanInfoModuleResetCallback:L,pincodeModuleResetCallback:H,brandcheckModuleResetCallback:F,locationModulResetCallback:x,handleClearPreviousModuleSel:V,isCarrierUpgradeFlow:A,handleAXLiveRegionMessaging:e=>{Y(e)}}),!K&&l().createElement(fa,{state:T,fullWidth:y,showSummaryView:Q,handleTradeUpCollapse:k,setShowContentView:j,setDrawerOpen:ee}))},ha=(e,t)=>{let{bootstrap:a,stepKey:s,fullWidth:o,disabled:c,gallery:u,isCarrierUpgradeFlow:g=!1,...f}=e;const b=(0,n.useRef)(),{viewport:h}=(0,p.S)(),v="small"===h;let A="",N="",O=o?"tradeupinline":"tradeupbanner";const T=d().get(window.pageLevelData,"carrierEarlyUpgradeBootstrap.carrierUpgradeWarmState",!1),{carrierUpgradeHeader:R,carrierUpgradeSubHeader:S,returnTradeinLink:I}=d().get(a,"carrierUpgradeSelection",{}),C=d().get(window.decisionSection,"tradein",{});return g?(A=R,N=S,O="carrier-upgrade-"+O):(A=o?d().get(a,"tradeInSelection.header"):d().get(a,"dynamicAssets.tradein-buyflow-initial-header"),N=o?d().get(a,"tradeInSelection.subHeader"):d().get(a,"dynamicAssets.tradein-buyflow-initial-message")),(0,n.useImperativeHandle)(t,()=>({focusHeader:()=>{b.current?.querySelector("h2")?.focus()}}),[]),l().createElement(l().Fragment,null,l().createElement("div",{className:"rf-bfe-tradeup-header",ref:b},l().createElement("h2",{id:O,className:i()({[E.A.MANIFESTO]:v,[E.A.EYEBROW]:!v}),tabIndex:-1},l().createElement("span",(0,m.OH)(A)),N&&l().createElement("span",(0,r.A)({className:i()("rf-bfe-tradeup-subheader",{[E.A.EYEBROW_SUPER]:v,[E.A.EYEBROW]:!v})},(0,m.OH)(N)))),g&&!T&&I&&l().createElement("div",(0,r.A)({className:`rf-tradeupinline-return-subheader ${E.A.BODY}`},(0,m.OH)(I)))),v&&u,l().createElement("div",{className:i()({row:o,"rf-bfe-carrier-tradein":g,"rf-bfe-step-disabled":c})},l().createElement("div",{className:i()({"rf-bfe-tradeup-column-left":o})},o?l().createElement(ba,(0,r.A)({bootstrap:a,disabled:c,fullWidth:!0,headerRef:b,isCarrierUpgradeFlow:g},f)):l().createElement(j,(0,r.A)({bootstrap:a,disabled:c,view:"tile",headerRef:b,isCarrierUpgradeFlow:g},f))),l().createElement("div",{className:i()({"rf-bfe-tradeup-column-right":o})},g||d().isEmpty(C)?null:l().createElement("div",{className:"rf-bfe-decision-support"},l().createElement(y.A,{content:C,sectionKey:s,disabled:c})))))},va=(0,n.forwardRef)(ha);var Aa=a(3471);const Na=e=>{let{carrierUpgradeSelection:t={},showCarrierUpgradeOverlay:a=!1,selectedOption:n={},setSelectedOption:s=e=>e,onCarrierUpgradeSelectionComplete:i=e=>e,onCarrierUpgradeOverlayClose:o=e=>e}=e;const{carrierUpgradeOverlayButton:c="",carrierUpgradeOverlayHeader:u="",eligibleUpgradeCarriers:p=[]}=t;return l().createElement(g.A,{className:"rf-carrier-upgrade-overlay",visible:a,onClose:o},l().createElement("div",{className:"rf-carrier-upgrade-overlay-wrapper","data-autom":"tradeup-module-carrierUpgrade"},l().createElement("h2",(0,r.A)({className:"rf-carrier-upgrade-overlay-title typography-headline-reduced"},(0,m.OH)(u))),l().createElement(ke.A,null,p.map(e=>l().createElement(Aa.Ay,{name:`${e.id}`,key:e.id,value:e.text,checked:n.id===e.id,onChange:()=>s(e),className:"rf-carrier-upgrade-options",render:t=>{let{SelectorLabel:a}=t;return l().createElement(a,null,l().createElement("span",{className:"row"},l().createElement("span",{className:"form-selector-left-col column large-8 small-8"},l().createElement("span",(0,r.A)({className:"form-selector-title"},(0,m.OH)(e.text))))))}}))),l().createElement("div",{className:"rf-carrier-upgrade-overlay-addbutton"},l().createElement(Xe.A,{disabled:d().isEmpty(n),onClick:i},l().createElement("span",(0,m.OH)(c))))))},Oa=window.asMetrics,Ta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{fullWidth:t,isReturnTradeIn:a=!1,onTradeUpSwitch:n=e=>e,carrierUpgradeParams:s={}}=e,[i,o]=l().useState(a),[m,p]=l().useState(!a),E=t?window.TRADEUP_INLINE_BOOTSTRAP:window.TRADEUP_BOOTSTRAP,y=d().get(E,"carrierUpgradeSelection"),g=!d().isEmpty(y),f=l().useRef(null),[b,h]=l().useState(!1),v=d().get(y,"eligibleUpgradeCarriers",[]),[A,N]=l().useState({}),O=()=>{f.current?.focusHeader?.()},T=e=>{i?(o(!1),N({}),n({toReturnFlow:!1,clearAllStepsFromTradeUp:!0})):1===v.length?(p(!1),N(v[0]),n({toReturnFlow:!0,clearAllStepsFromTradeUp:!0})):h(!0),(e=>{if(Oa){const t=e?.getAttribute("data-feature-name")||e?.parentElement?.getAttribute("data-feature-name")||"carrier",a=e?.value||e?.parentElement?.value;Oa.sendUserInteraction({name:"carrier-upgrade",beacon:{eVar6:`D=pageName+"||step1|${t}|${a}"`}})}})(e)};(0,c.A)("click",e=>{if(g){const t=e.target;(t?.hasAttribute("data-tradeup-return-module")||t?.parentElement?.hasAttribute("data-tradeup-return-module"))&&T(t)}}),l().useEffect(()=>{if(i){let e;e=1===v.length?v[0]:v.find(e=>{const t=d().get(e,"carrierUpgradeParams",{});return d().isEqual(s,t)}),d().isEmpty(e)||(N(e),n({toReturnFlow:!0,onWarmLoad:!0,carrierUpgradeParams:d().get(e,"carrierUpgradeParams",{})}))}},[]);const R={carrierUpgradeSelection:y,showCarrierUpgradeOverlay:b,selectedOption:A,setSelectedOption:N,onCarrierUpgradeSelectionComplete:()=>{p(!1),h(!1),n({toReturnFlow:!0,clearAllStepsFromTradeUp:!0})},onCarrierUpgradeOverlayClose:()=>{h(!1),N({})}};return g?l().createElement(l().Fragment,null,l().createElement(Na,R),l().createElement(u.A,{in:m,onExited:()=>{o(!0)},onEntering:O,mountOnEnter:!0,unmountOnExit:!0},l().createElement(va,(0,r.A)({bootstrap:E,ref:f},e))),l().createElement(u.A,{in:i,onExited:()=>{p(!0)},onEntering:O,mountOnEnter:!0,unmountOnExit:!0},l().createElement(va,(0,r.A)({bootstrap:E,isCarrierUpgradeFlow:!0,ref:f,selectedCarrierUpgradeOption:A},e)))):l().createElement(va,(0,r.A)({bootstrap:E},e))},Ra=(e,t)=>{let{onLayout:a=d().noop,stepKey:n,fullWidth:s,disabled:o,className:c,dimensionSelections:u,prevStepComplete:m,...p}=e;const E=d().get(window,"PRODUCT_SELECTION_BOOTSTRAP.productSelectionData.products",[]),y=l().useMemo(()=>{let e=[];if(m){const t=d().omit(u,"carrierModel"),a=d().filter(E,t);e=d().uniq(a.map(e=>{let{partNumber:t}=e;return t}))}return e},[u,m]);return l().useLayoutEffect(a,[a]),l().useEffect(()=>{window.asMetrics?.update()},[]),window.TRADEUP_BOOTSTRAP||window.TRADEUP_INLINE_BOOTSTRAP?l().createElement("div",{className:i()(c,{"rf-bfe-tradeup":!s,"rf-bfe-tradeup-fullwidth":s}),"data-analytics-section":n,"data-step-enabled":!o||void 0,"data-observer-key":n,ref:t},l().createElement(Ta,(0,r.A)({stepKey:n,fullWidth:s,disabled:o,partNumbers:y},p))):null},Sa=l().forwardRef(Ra)},859:(e,t,a)=>{a.d(t,{Xx:()=>d,$O:()=>m,In:()=>u,So:()=>p,zJ:()=>c});var r=a(2224),n=a.n(r),l=a(2684),s=a(5646),i=a(2353);const o=(e,t)=>"LOCAL-DEV-INLINE"===t?(e=>{let t;switch(e){case i.G7.PINCODE:t=i.G7.BRANDCHECK;break;case i.G7.BRANDCHECK:t=i.G7.PRODUCT;break;case i.G7.PRODUCT:t=i.G7.QUESTIONS;break;case i.G7.QUESTIONS:t=i.G7.LOAN_INFO;break;case i.G7.LOCATION:t=i.G7.BRANDCHECK;break;case i.G7.VERIFY:t=i.G7.PINCODE;break;case i.G7.LOAN_CONFIRM:case i.G7.LOAN_AUTH:t=i.G7.LOAN_DETAILS;break;case i.G7.LOAN_INFO:t=i.G7.LOAN_AUTH;break;case i.G7.LOAN_DETAILS:case i.G7.IUPTRADEIN_SUMMARY:case i.G7.IUPTRADEIN_CONFIRM:t=i.G7.SAVE;break;default:t=e}return`../demos/ajax-data/${t}.json`})(e):(e=>{let t;switch(e){case i.Tx.CATEGORY:t=i.Tx.BRAND;break;case i.Tx.LOCATION:t=i.Tx.PINCODE;break;case i.Tx.PINCODE:t=i.Tx.DEVICE_CHECK;break;case i.Tx.LOAN_VERIFICATION_OTP:t=i.Tx.LOAN_VERIFICATION_OTP;break;case i.Tx.BRAND:t=i.Tx.BRANDCHECK;break;case i.Tx.BRANDCHECK:t=i.Tx.PRODUCT;break;case i.Tx.LOAN_AUTH:t=i.Tx.LOAN_DETAILS;break;case i.Tx.LOAN_INFO:t=i.Tx.LOAN_AUTH;break;case i.Tx.LOAN_DETAILS:t=i.Tx.SAVE;break;case i.Tx.PRODUCT:t=i.Tx.LOCATION;break;case i.Tx.QUESTIONS:t=i.Tx.LOAN_INFO;break;case i.Tx.RECOMMENDATIONS:t=i.Tx.SHIPPING;break;case i.Tx.VERIFY:t=i.Tx.QUESTIONS;break;case i.Tx.SHIPPING:t=i.Tx.DEVICE_CHECK;break;case i.Tx.DEVICE_CHECK:t=i.Tx.DEVICE_TYPE;break;case i.Tx.DEVICE_TYPE:t=i.Tx.VERIFY;break;case i.Tx.CONFIRMATION:t=i.Tx.QUOTE;break;case i.Tx.QUOTE:t=i.Tx.SAVE;break;case i.Tx.SAVE:t=i.Tx.RECYCLE;break;case i.Tx.RECYCLE:t=i.Tx.FORKCONFIRMATION;break;case i.Tx.FORKCONFIRMATION:t=i.Tx.SAVE;break;default:t=e}return`../demos/ajax-data/overlay/${t}.json`})(e),d=(e,t)=>{if(e&&t){const{JO:a,k0:r}=l;return r(e,a(t))}return e},c=e=>e&&"object"==typeof e?Object.keys(e).filter(t=>{return null!==(a=e[t])&&"object"!=typeof a&&"function"!=typeof a&&void 0!==a;var a}).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&"):null,u=function(){let e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;const{Gm:o,Dl:u,JO:m}=l,p=u(a),E={...m(p.search)??{},...n};p.search="";const y=o(p),g=c(E);return"POST"===r?(e=y,t={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g,signal:i}):e=d(y,g),(0,s.hI)(e,t)},m=(e,t)=>e.modules.reduce((t,a)=>{const r=e[a.type];return r&&r.completed?{...t,...r.selection}:t},t?{...e.unCachedSelection}:{}),p=(e,t,a,r,l)=>{let{customFetchUrl:i=null,method:u="GET",finalSubmit:p=!1,onFetch:E=e=>e,onError:y=e=>e}=r;const g=i||n().get(t,"tradeInBaseUrl"),f=a?{...a}:m(t,p);delete f?.userParams,f.module=e;const b=n().get(t,"partNumbers",[]),h={};b.length>0&&b.forEach((e,t)=>{h[`parts.${t}`]=e});const v=c({...f,...h,...l});let A,N={};return"LOCAL-DEV-INLINE"===g||"LOCAL-DEV-OVERLAY"===g?(A=o(e,g),A=d(A,v)):"POST"===u?(A=g,N={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v}):A=d(g,v),(0,s.hI)(A,N).then(e=>E({...e.body}),e=>y({data:e}))}},2328:(e,t,a)=>{a.d(t,{A:()=>i});const{FEATURE:r={},TYPE:n={},onSelectionChanged:l=e=>e,onLoanVerification:s=e=>e}=window?.asMetrics?.tradeIn??{},i={fireLoanInfoMetrics:e=>{l({feature:r.APPLY_TO_BALANCE,type:n.CLICK,action:e})},fireLoanSuccessConfirmTradeIn:e=>{l({feature:r.CONFIRM,type:n.CLICK,action:e})},fireLoanSuccessNoThanks:e=>{l({feature:r.CONFIRM,type:n.CLICK,action:e})},fireTradeInOTPVerify:()=>{s("verify")},fireTradeInOTPResend:()=>{s("resend pin")},fireFlexibleTradeInButton:e=>{const t="PUSH"===e?"try again":"authenticate by email instead";l({feature:r.VERIFY_LOAN,type:n.CLICK,action:t})},fireFlexibleTradeInError:()=>{window.asMetrics?.onError&&window.asMetrics.onError({message:"we couldn't verify your paidy loan"})},fireOpenMyPaidyApp:e=>{window.asMetrics&&window.asMetrics.fireMicroEvent({eVar1:`D=pageName+"|trade-in|paidy verification| ${e}"`})},fireFlexibleOTPTradeInError:e=>{const t=(e=>{switch(e){case"ERROR_PIN_EXPIRED":return{message:"your pin has expired",name:"tradeIn|pin expired"};case"ERROR_PIN_INVALID":return{message:"your pin is incorrect",name:"tradeIn|pin incorrect"};case"ERROR_USER_PIN_EXCEEDED_MAX_ATTEMPTS":case"ERROR_USER_EXCEEDED_MAX_ATTEMPTS":return{message:"maximum number of attempts allowed",name:"tradeIn|max attempts"};default:return null}})(e);window.asMetrics?.onError&&t&&window.asMetrics.onError(t)}}},2353:(e,t,a)=>{a.d(t,{$H:()=>d,G7:()=>r,JF:()=>i,Ko:()=>l,Pp:()=>c,Rx:()=>o,Tx:()=>s,WN:()=>m,kU:()=>n,lR:()=>p,ss:()=>u});const r={PINCODE:"pincode",LOCATION:"location",BRANDCHECK:"brandCheck",PRODUCT:"product",QUESTIONS:"questions",VERIFY:"verify",SAVE:"save",CONFIRM:"confirm",LOAN_AUTH:"loanAuth",LOAN_DETAILS:"loanDetails",LOAN_CONFIRM:"loanConfirm",LOAN_INFO:"loanInfo",IUPTRADEIN_CONFIRM:"iUpTradeInConfirm",IUPTRADEIN_SUMMARY:"iUpTradeInSummary"},n={TRADE_IN:"tradeIn",RECYCLE:"recycle",NO_TRADE_IN:"noTradeIn"},l={INIT:1,EDIT:2,SAVE:3,TOGGLE_DRAWER:4,ADD_DYNAMIC_MODULES:5,UPDATE_DYNAMIC_MODULES:6,INIT_MODULE:7,CHANGE_SELECTION:8,COMPLETE_MODULE:9,RESET_MODULE:10,ADD_TRADEUP:11,REMOVE_TRADEUP:12,CONFIRM:13,LOAN_CONFIRM:14,IUPTRADEIN_CONFIRM:15,RESET_LAST_SELECTION:16,SAVE_INFO:17,COLLAPSE_TRADEUP:18,IUPTRADEIN_SUMMARY:19,UPDATE_AUTOFILLDATA:20,UPDATE_MODULE_STATE:21,UPDATE_PARTS:22,UPDATE_SUMMARY_ASSETS:23},s={CATEGORY:"category",DEVICE_TYPE:"deviceType",DEVICE_CHECK:"deviceCheck",BRAND:"brand",BRANDCHECK:"brandCheck",PRODUCT:"product",QUESTIONS:"questions",QUOTE:"quote",RECOMMENDATIONS:"recommendations",RECYCLE:"recycle",VERIFY:"verify",SHIPPING:"shipping",CONFIRMATION:"confirm",FORKCONFIRMATION:"forkConfirm",SAVE:"save",PINCODE:"pincode",LOCATION:"location",VERIFICATION_DEFERRED:"verificationDeferred",LOAN_AUTH:"loanAuth",LOAN_INFO:"loanInfo",LOAN_DETAILS:"loanDetails",LOAN_VERIFICATION_OTP:"loanVerificationOtp"},i={INIT:1,SHOW_MODULE:4,HIDE_ALL_MODULES:5,INIT_MODULE:6,COMPLETE_MODULE:7,RESET_MODULE:8,SHOW_LOADING:9,HIDE_LOADING:10,SHOW_ERROR:11,RESET_ALL:12,SET_SELECTION_EVENTS:13,REMOVE_LAST_EVENT:14,RESET_UNCACHED_SEL:15,UPDATE_PROGRESS:16,SET_MODULE_INIT:17,MOVING_BACK:18,UPDATE_STATE:19,TOGGLE_ALERT:20,MEMORIZE_EXPENSIVE_CALCULATION:21},o={INIT:1,UPDATE_STATE:2,UPDATE_SELECTION:3,UPDATE_PART:4,SHOW_DIMENSION:5,RESET_ALL:6},d={INIT:1,UPDATE_STATE:2,UPDATE_SELECTION:3,UPDATE_PART:4,SELECT_QUESTION:5,SHOW_QUESTION:6,RESET_LAST:7,RESET_ALL:8},c={INLINE:"link",TILE:"tile"},u={PUSH:"PUSH",SMS:"SMS"},m={WAIT:"WAIT",ERROR:"ERROR",MAX_RETRY_ERROR_TYPE:"ERROR_USER_PIN_EXCEEDED_MAX_ATTEMPTS",ERROR_USER_EXCEEDED_MAX_ATTEMPTS:"ERROR_USER_EXCEEDED_MAX_ATTEMPTS",ERROR_PIN_EXPIRED:"ERROR_PIN_EXPIRED",SUCCESS:"SUCCESS",TIMEOUT:"TIMEOUT",LOAN_AUTH_OTP_ACTIONS:"LOAN_AUTH_OTP_ACTIONS",ERROR_PARTNER_OFFLINE:"ERROR_PARTNER_OFFLINE"},p={YES:"1",NO:"2"}},2750:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(1594),n=a(2224),l=a.n(n),s=a(2353),i=a(2328);const o=(e,t)=>{switch(t.type){case s.WN.SUCCESS:return{status:s.WN.SUCCESS,bootstrap:t.payload.data,polling:{...e.polling}};case s.WN.ERROR:return{status:s.WN.ERROR,bootstrap:t.payload.data,polling:{...e.polling,...t.payload.polling},authBootstrapData:t.payload.authBootstrapData};case s.WN.WAIT:return{status:s.WN.WAIT,bootstrap:t.payload.data,polling:{...e.polling,...t.payload.polling},assets:{...t.payload.assets},authBootstrapData:t.payload.authBootstrapData};case s.WN.TIMEOUT:return{status:s.WN.TIMEOUT,bootstrap:t.payload.data,polling:{...e.polling}};case s.WN.LOAN_AUTH_OTP_ACTIONS:return{status:s.WN.WAIT,bootstrap:{...e.bootstrap,...t.payload.data},polling:{...e.polling,...t.payload.polling}};default:return{...e}}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e;const{smsAuthenticationData:d={},authentication:c}=e,u=d?.fields??{},m={status:e?.status||s.WN.WAIT,bootstrap:{...c?.details??{},...d?.messages??{},isModuleShown:!0,submitUrl:c?.submitUrl},polling:{url:c?.submitUrl,options:{method:c?.method||"GET",...t,...a,...d?.actions?.smsVerify?.params??{},...c?.params??{}},delay:c?.delay||100,countdown:c?.details?.countdownSecond||0},assets:{...c?.assets??{}},authBootstrapData:{...c?.details??{}}};(0,r.useEffect)(()=>{c?.status===s.WN.SUCCESS&&n(s.G7.LOAN_AUTH,c?.params)},[c?.status]);const[p,E]=(0,r.useReducer)(o,m);return{authStatus:p.status,authBootstrap:p.bootstrap,authBootstrapData:p.authBootstrapData,authAssets:p.assets,pollingData:p.polling,otpAuthFields:u,handleWaiting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{delay:t=0,params:a={},submitUrl:r,method:n,details:l={},assets:i}=e?.body?.authentication??{},{params:o={}}=e?.body?.smsAuthenticationData?.actions?.smsVerify??{};E({type:s.WN.WAIT,payload:{data:{...p.bootstrap,...l},polling:{url:r,options:{method:n,...p.polling.options,...a,...o},delay:t},assets:{...p?.assets??{},...i},authBootstrapData:{...m.authBootstrapData}}})},handleSuccess:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.body?.authentication?.params;E({type:s.WN.SUCCESS,payload:{data:{isModuleShown:!1},polling:{},assets:{}}}),n(s.G7.LOAN_AUTH,t)},handleError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l().isEmpty(e))E({type:s.WN.ERROR,payload:{data:{genericErrorMessage:p?.assets?.fetchError},polling:{},assets:{}}});else{const{submitUrl:t,method:a,details:r={}}=e?.body?.authentication??{},{messages:n,actions:l={}}=e?.body?.smsAuthenticationData??{},o=l?.smsVerify?.params?.auid,d=o?{options:{...p.polling.options,auid:o}}:{};E({type:s.WN.ERROR,payload:{data:{submitUrl:t,method:a,...r,...n},polling:d,assets:{...p.assets??{}},authBootstrapData:{...m.authBootstrapData}}}),i.A.fireFlexibleOTPTradeInError(n?.type)}},handleTimeout:()=>{E({type:s.WN.TIMEOUT,payload:{data:{genericErrorMessage:p?.assets?.fetchError}},polling:{}})},handleOTPVerify:e=>{const{submitUrl:r,method:n}=d?.actions?.smsVerify??{},l=p?.polling?.options??{};delete l.resend;const o={...t,...a,...l,...e,method:n};E({type:s.WN.WAIT,payload:{data:{...p.bootstrap??{},errorMsg:null},polling:{url:r,options:o},assets:{...p.assets??{}},authBootstrapData:{...m.authBootstrapData}}}),i.A.fireTradeInOTPVerify()},handleOTPResend:()=>{const{submitUrl:e,params:r,method:n}=d?.actions?.sms??{},l={method:n,...t,...a,...r};E({type:s.WN.WAIT,payload:{data:{...p.bootstrap??{},errorMsg:null},polling:{url:e,options:l},assets:{...p.assets??{}},authBootstrapData:{...m.authBootstrapData}}}),i.A.fireTradeInOTPResend()},handleEmailAuthActions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{submitUrl:a,params:r={},method:n="POST",onSuccess:l=e=>e}=e;E({type:s.WN.WAIT,payload:{data:{...p.bootstrap??{},actions:null},polling:{...p.polling,url:a,options:{method:n,...t,...r},delay:100},assets:{...p.assets??{}}}}),l(),i.A.fireFlexibleTradeInButton(r.type)},handleErrorReset:()=>{E({type:p.status,payload:{data:{...p.bootstrap??{},errorMsg:null,title:null,type:null,errorType:null},polling:{...p.polling??{}},assets:{...p.assets??{}},authBootstrapData:{...m.authBootstrapData}}})}}}},4750:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(1594),l=a.n(n),s=a(5911);const i=e=>{let{caption:t,a11yCaption:a,timeout:i,classes:o={},handleAXLiveRegionMessaging:d=e=>e}=e;const c=(0,n.useRef)(0),u=(0,n.useRef)(),[m,p]=(0,n.useState)(null),E=()=>{let e=0,r="00",n="00";u.current?e=u.current-(new Date).getTime():(e=i,u.current=(new Date).getTime()+i),e>0&&(r=`${Math.floor(e/1e3/60%60)}`.padStart(2,"0"),n=`${Math.floor(e/1e3%60)}`.padStart(2,"0"));const l=t.replace("[MINS]",`${r}`).replace("[SECONDS]",`${n}`);if(p(l),c.current>0&&c?.current%30==0){const e=a.replace("[MINS]",`${r}`).replace("[SECONDS]",`${n}`);d(e)}c.current+=1};return(0,n.useEffect)(()=>{let e=0;return e=setInterval(E,1e3),()=>{clearInterval(e),u.current=null}},[]),l().createElement("p",(0,r.A)({className:o.headline},(0,s.OH)(m)))}},6088:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(1594),n=a.n(r),l=a(2353);const s=e=>{let{auid:t,authStatus:a,waitMessage:r}=e;const s=n().useRef(),i=n().useMemo(()=>{if(a===l.WN.WAIT&&!Boolean(r))return t!==s.current?t:void 0},[a,r,t]);return void 0!==t&&(s.current=t),i}},7634:(e,t,a)=>{a.d(t,{A:()=>r.A});var r=a(2370)},7980:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(1594),n=a(2224),l=a.n(n),s=a(5646),i=a(2353),o=a(859);const d=(0,s.tG)("react-tradeup/use-polling"),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{urlOptions:a={},timeout:n,pollDelay:s,onSuccess:c=e=>e,onWaiting:u=e=>e,onError:m=e=>e,onTimeout:p=e=>e}=t,[E,y]=(0,r.useState)(!1),[g,f]=(0,r.useState)(e),[b,h]=(0,r.useState)(s),v=(0,r.useRef)(!1),A=(n||9e5)+3e4,N=(0,r.useRef)(),O=()=>{y(!0)},T=()=>{y(!1)},R=()=>{N.current&&l().isFunction(N.current.abort)&&(N.current.abort(),N.current=null)},S=(e,t)=>{switch(e){case i.WN.WAIT:O(),u(t);break;case i.WN.SUCCESS:T(),c(t);break;case i.WN.ERROR:T(),m(t);break;case i.WN.TIMEOUT:T(),p(t)}},I=async()=>{try{if(v.current)return;if(!g)return S(i.WN.ERROR),void d.debug("Status URL for Polling is not present");const e=new AbortController,{signal:t}=e;N.current=e;const r={...a},n=r?.method??"POST";r&&delete r?.method,v.current=!0;const l=await(0,o.In)(g,n,r,t),s=l?.body?.authentication??{},{status:c=i.WN.WAIT,submitUrl:u,delay:m}=s;u&&f(u),m&&h(m),S(c,l),v.current=!1}catch(e){"TimeoutError"===e.name||"AbortError"===e.name?d.debug("Loan Auth process Timeout"):(S(i.WN.ERROR),d.error(e)),v.current=!1}};return(0,r.useEffect)(()=>{let e=0;return E&&g&&(e=setInterval(I,b||5e3)),()=>{clearInterval(e)}},[E,g,b,a]),(0,r.useEffect)(()=>{let e=0;return E&&(e=setTimeout(()=>{R(),S(i.WN.TIMEOUT)},A)),()=>{clearTimeout(e)}},[E]),(0,r.useEffect)(()=>{f(e),h(s)},[e,s]),{isPolling:E,stopPolling:T,startPolling:O}}},8667:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(1594),n=a(2224),l=a.n(n),s=a(840),i=a(2787);const o=e=>{let{disabled:t=!1,pinField:a={},errorMessage:n="",handleErrorReset:o=e=>e,handleOTPVerify:d=e=>e}=e;const{name:c}=a,u=(0,i.A)({initialValues:{[c]:""}}),{values:m,errors:p,touched:E,isValid:y}=u,g=l().has(p,c)||!m[c]||!y||Boolean(n),f=(0,r.useRef)(null),b=n||E[c]&&p[c];return(0,r.useEffect)(()=>{n&&!t&&f.current&&f.current.focus()},[n,t]),{formState:u,inputRef:f,textFieldErrorMessage:b,hasBtnDisabled:g,handleKeyUp:e=>{e.keyCode!==s.HP.Return||g||d(m),n&&o()},handleSubmit:()=>{d(m)}}}},9137:e=>{e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-complete as-svgicon-reduced as-svgicon-completereduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M12.5 4.1a8.4 8.4 0 1 1-8.4 8.4 8.41 8.41 0 0 1 8.4-8.4m0-1.1a9.5 9.5 0 1 0 9.5 9.5A9.5 9.5 0 0 0 12.5 3"/><path d="M11.69 16.914a.5.5 0 0 1-.809.046L7.75 13.112a.55.55 0 1 1 .854-.694l2.608 3.2 4.8-7.478a.55.55 0 0 1 .926.594Z"/></svg>'}}]);