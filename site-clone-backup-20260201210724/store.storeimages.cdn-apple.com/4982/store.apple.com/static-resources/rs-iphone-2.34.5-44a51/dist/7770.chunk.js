/*! 2.34.5 | BH: 0aabfe2ef5c1758a5124 | CH: 7f9f8f2fc8 */
/*! License information is available at licenses.txt */"use strict";(globalThis.webpackChunkrs_iphone=globalThis.webpackChunkrs_iphone||[]).push([[7770],{154:(e,a,t)=>{t.d(a,{A:()=>E});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(6637),d=t(6884),u=t(3043),A=t(5947),y=t(2588),v=t(1693);const E=e=>{let{accessoryKey:a,accessoryPart:t,acBootstrap:n={},handleSelection:o=s().noop}=e;const[E,f]=(0,l.useState)({}),g=(0,l.useRef)(),h=(0,l.useRef)(),O=(0,l.useRef)(!1),{acData:C,selectedAppleCareOption:N,resetState:S,showOverlay:w,openOverlay:P,closeOverlay:b,updateState:D,...H}=(0,A.A)({bootstrap:n}),T=!s().isEmpty(C),$=!s().isEmpty(E),{globalContextAssets:L}=(0,m.S)(),R={...C.namedFragments,...L,...window.NAMED_ASSETS},{attachAddAppleCareCoverage:k="",attachAppleCareDescription:I="",attachAppleCareLearnMore:_=""}=R,F=s().get(E,"selectedAppleCareOption.selectedSummaryPrice",""),M=s().get(E,"selectedAppleCareOption.title"),V=s().get(R,"edit","Edit"),x=s().get(R,"remove","Remove"),B=s().get(R,"svgOverrideForApplecare",""),U=e=>{e.current&&e.current.focus()};c().useEffect(()=>{!$&&O.current&&(U(g),O.current=!1)},[$]);const G={...H,accessoryPart:t,acData:C,assets:R,closeOverlay:b,selectedAppleCareOption:N,updateState:D,resetState:S,setSelection:f,resetFocusToACSection:()=>U(h),handleSelection:o};return T&&c().createElement(c().Fragment,null,c().createElement("div",{className:"rf-attach-applecare-section","data-analytics-section":"applecare","data-autom":`${a}_applecare`},c().createElement("div",{className:"rf-attach-applecare-content"},s().isEmpty(E)?c().createElement("div",{className:"rf-attach-applecare-view"},c().createElement("button",(0,r.A)({ref:g,className:"rf-attach-applecare-add-btn rf-attach-applecare-button-link as-buttonlink icon icon-after icon-pluscircle",onClick:()=>{P(),(0,y.mN)(t)}},(0,i.OH)(k))),c().createElement("div",(0,r.A)({className:"rf-attach-applecare-description"},(0,i.OH)(I))),c().createElement("div",(0,r.A)({className:"rf-attach-applecare-learnmore"},(0,i.OH)(_)))):c().createElement("div",{className:"rf-attach-applecare-summary"},c().createElement("div",{className:"rf-attach-applecare-selection"},c().createElement("span",(0,r.A)({"aria-hidden":"true",className:p()({"rf-applecare-override-svg":B},"as-svgicon-container rf-attach-quote-icon")},(0,i.OH)(u))),c().createElement("span",(0,r.A)({className:"rf-attach-applecare-summary-text"},(0,i.OH)(F)))),c().createElement("div",{className:"rf-attach-applecare-actions"},c().createElement("button",(0,r.A)({ref:h,className:"rf-attach-applecare-edit-btn rf-attach-applecare-button-link as-buttonlink","aria-label":`${V} ${M} ${C.familyType}`,onClick:()=>{P(),(0,y.cP)(t,"edit")}},(0,i.OH)(V))),c().createElement("span",{className:"rf-attach-applecare-action-separator"}),c().createElement("button",(0,r.A)({className:"rf-attach-applecare-remove-btn rf-attach-applecare-button-link as-buttonlink","aria-label":`${x} ${M} ${C.familyType}`,onClick:()=>{S(),f({}),o({}),(0,y.cP)(t,"remove"),O.current=!0}},(0,i.OH)(x))))))),c().createElement(d.A,{visible:w,onClose:()=>{s().isEmpty(E)?S():D(E),b()},onExited:()=>{U(s().isEmpty(E)?g:h)},className:"rf-attach-applecare-overlay",ariaLabel:"rf-attach-applecare-overlay-heading","data-analytics-content-id":"applecare-overlay","data-analytics-link-region":"attach"},c().createElement(v.A,G)))}},1043:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(2224),l=t.n(r);const c=e=>{if(void 0===e||e.length<1)return{};const a=1===e.length?e[0]:e.find(e=>e.showDefault),t=l().get(a,"appleCarePlans",[]),r=l().omit(a,"appleCarePlans");let c=!1;return{dimensions:t.reduce((e,a)=>{const{appleCareType:t,additionalData:r={},moreOptions:n={},tileViolator:s}=a;c=c||Boolean(s);const o=l().omit(a,["appleCareType","additionalData","moreOptions","tileViolator"]),p=l().get(n,"planDetails",[]),i=l().omit(n,"planDetails");let m=!1;const d=p.map(e=>(m=m||e.defaultAppleCareSelection,{...e,appleCareType:t,key:e.dimensionPaymentType?.key,value:e.dimensionPaymentType?.value}));return{...e,[t]:{appleCareType:t,meta:{...i,...o,additionalData:r,options:d,hasDefaultSelection:m,tileViolator:s,hasMultipleOptions:d.length>1}}}},{}),hasViolator:c,isSingleACType:1===t.length,...r}}},1693:(e,a,t)=>{t.d(a,{A:()=>f});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(632),d=t(4768),u=t(3151),A=t(4682),y=t(2626),v=t(2588),E=t(6497);const f=e=>{let{accessoryPart:a,selectedAppleCareGroup:t,selectedAppleCareOption:n,trayOpen:o,acData:f={},assets:g,updateState:h=s().noop,closeOverlay:O=s().noop,setSelection:C=s().noop,resetFocusToACSection:N=s().noop,handleSelection:S=s().noop}=e;const{dimensions:w={},familyType:P,attachOverlayGroupHeader:b="",attachOverlayGroupDescription:D="",hasViolator:H}=f,[T]=(0,A.Ay)(),$="small"===T,L=(0,l.useMemo)(()=>Object.keys(w).reduce((e,a)=>(a!==y.A.NO_APPLECARE&&(e[a]=w[a]),e),{}),[]),R=Object.keys(L).length,k=R>3?2:R,I=2===k,_=(0,u.A)(o?t:null),F=s().get(n,"additionalParams"),M=s().get(n,"rawPrice"),V={accessoryPart:a,trayOpen:o,selectedAppleCareOption:n,selectedAppleCareGroup:t,itemsPerRowLarge:k,showTwoTilesPerRow:I,groupHasViolator:!$&&H,updateState:h,assets:g},x=c().createElement(c().Fragment,null,c().createElement("h2",(0,r.A)({id:"rf-attach-applecare-overlay-heading",className:p()("rf-attach-applecare-overlay-heading",d.A.HEADLINE_REDUCED),tabIndex:-1},(0,i.OH)(b))),c().createElement("div",(0,r.A)({className:"rf-attach-applecare-overlay-group-desc"},(0,i.OH)(D))));return c().createElement(c().Fragment,null,c().createElement(m.c6,{name:`inlinetile-options-${P}`,legend:x,key:"inlinetile-options"},c().createElement("div",{className:p()("row",{"rf-attach-applecare-trayopen":!$&&o&&_})},Object.keys(L).map((e,a)=>c().createElement(c().Fragment,{key:e},c().createElement(E.A,(0,r.A)({dimension:L[e],orderIndex:a+1},V)))))),c().createElement("div",{className:"rf-attach-applecare-save-btn"},c().createElement("button",(0,r.A)({type:"button",className:"button button-super button-block","data-autom":"applecare-save",disabled:s().isEmpty(n),onClick:e=>{e.target.blur(),O(),C({selectedAppleCareOption:n,selectedAppleCareGroup:t,trayOpen:o}),S({...F,rawPrice:M}),N(),(0,v.A5)(a)}},(0,i.OH)(s().get(g,"add","Add"))))))}},2117:(e,a,t)=>{t.d(a,{L:()=>l});const r=window.asMetrics,l=()=>{if(r){const e="",a=`${"Step 1 - AppleCare+"}|${""}|${"Edit|Selected"}`;r.sendUserInteraction({name:a,beacon:{eVar6:`D=pageName+"|${e}|${a}"`}})}}},2588:(e,a,t)=>{t.d(a,{$y:()=>c,A5:()=>n,cP:()=>s,mN:()=>l});const{asMetrics:r}=window,l=e=>{if(r){const a="",t=`${`attach - ${e}`}|${"applecare"}|${"add applecare coverage"}`;r.sendUserInteraction({name:t,beacon:{eVar5:`D=pageName+"|${a}|${t}"`}})}},c=e=>{let{sku:a,acValue:t,acPart:l,partString:c,dimensionPaymentType:n}=e;if(r){const e="";let s=`${`attach - ${a}`}|${l||c}|${`selected:${t}`}`;n&&(s+=` - ${n}`),r.sendUserInteraction({name:s,beacon:{eVar5:`D=pageName+"|${e}|${s}"`}})}},n=e=>{if(r){const a="",t=`${`attach - ${e}`}|${"applecare"}|${"Add"}`;r.sendUserInteraction({name:t,beacon:{eVar5:`D=pageName+"|${a}|${t}"`}})}},s=(e,a)=>{if(r){const t="",l=`${`attach - ${e}`}|${"applecare"}|${`${a} applecare`}`;r.sendUserInteraction({name:l,beacon:{eVar5:`D=pageName+"|${t}|${l}"`}})}}},2626:(e,a,t)=>{t.d(a,{A:()=>r});const r=Object.freeze({NO_APPLECARE:"noapplecare",APPLECAREPLUS:"ac",APPLECAREPLUS_THEFT_AND_LOSS:"acptl",APPLECARE_MULTIPART:"acmultipart"})},3113:(e,a,t)=>{t.d(a,{A:()=>N});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(4680),d=t(1345),u=t(632),A=t(2019),y=t(6777),v=t(4768),E=t(4682),f=t(9932),g=t(3471),h=t(3043),O=t(5641),C=t(2626);const N=e=>{let{dimension:a={},trayOpen:t,selectedAppleCareOption:n,selectedAppleCareGroup:o,isDisabled:N,updateState:S,renderCollapseButton:w,itemsPerRowLarge:P,showTwoTilesPerRow:b,groupHasViolator:D,orderIndex:H,isRightRail:T,onChange:$=s().noop,showSummaryOnSelection:L,assets:R,metrics:k=window.asMetrics,isSingleACType:I=!1}=e;const{meta:_,appleCareType:F}=a,{tileHeader:M,tileSubHeader:V,tileDescription:x,groupPriceString:B,appleCareTileLogo:U,savingsMessage:G,iptText:Y,tileLegalFootNote:q}=s().get(_,"additionalData",{}),K=s().get(_,"options",[]),j=s().get(_,"secondarySelectionHeader",""),W=s().get(_,"secondarySelectionNote",""),J=s().get(_,"additionalData.tileFootnote",""),z=s().get(_,"tileViolator",""),Q=s().get(_,"hasMultipleOptions"),X=T?1:P,Z=s().get(_,"activeAcceptanceEnabled",!1),ee=o===F,ae=s().isEmpty(n),te=Q?ee&&!ae?s().get(n,"tierListSavings",""):null:s().get(K,"[0].tierListSavings",""),[re,le]=(0,l.useState)(!1),ce=(0,l.useRef)(""),[ne]=(0,E.Ay)(),se="small"===ne,oe=T||!b||se?null:{order:H%2==0?H+1:H+2},pe=T||!b||se?null:{order:H},ie=K.find(e=>e.isIUPAppleCare&&e.defaultAppleCareSelection),me=s().get(R,"included",""),de=s().get(R,"svgOverrideForApplecare",""),ue=function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={selectedAppleCareGroup:F};K.length>1?r={...r,...F!==o&&{selectedAppleCareOption:{},showCollapse:!1},trayOpen:!0}:(r=F===C.A.NO_APPLECARE?{...r,selectedAppleCareOption:{},trayOpen:!1}:{...r,selectedAppleCareOption:{tileHeader:M,tileDescription:x,subHeader:e?.subHeader,header:e?.title,priceString:e?.priceString,tierListSavings:e?.tierListSavings,appleCareType:F,value:e?.value,hasMultipleOptions:Q,includedText:e?.includedText,tileFootnote:J},showCollapse:!1,trayOpen:!1,...F!==o&&{showSelectorView:!L||!I}},$({selection:e?.additionalParams,slotKey:"applecare",summaryShown:!1,wasDrawerOpen:t,appleCareType:e?.appleCareType,defaultAppleCareSelection:e?.defaultAppleCareSelection,dimensionPaymentType:e?.value,rawPrice:e?.rawPrice,fireMetricsOnSelection:a})),S(r)},Ae=function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S({selectedAppleCareOption:{tileHeader:M,tileDescription:x,subHeader:e?.subHeader,header:e?.title,priceString:e?.priceString,tierListSavings:e?.tierListSavings,appleCareType:F,value:e?.value,hasMultipleOptions:Q,appleCareTileLogo:U,iptText:Y,summaryPaymentSelectorNote:e.enableAASelectorHeaderNote?s().get(_,"activeAcceptanceOverlayContent.activeAcceptanceLegalSelectorHeaderNote"):null},selectedAppleCareGroup:F,showCollapse:!1,trayOpen:!L,showSelectorView:!L}),$({selection:e?.additionalParams,slotKey:"applecare",summaryShown:!1,wasDrawerOpen:t,appleCareType:e?.appleCareType,defaultAppleCareSelection:e?.defaultAppleCareSelection,dimensionPaymentType:e?.value,rawPrice:e?.rawPrice,fireMetricsOnSelection:a})};return c().createElement(c().Fragment,null,c().createElement(u.gW,{name:"applecare-options","aria-haspopup":Z&&!Q?"dialog":void 0,checked:ee,className:p()("column","large-"+12/X,"small-12","rf-applecare-option",{"rf-applecare-even-option":b&&H%2==0,"rf-applecare-option-selected":ee,"rf-no-applecare-option":F===C.A.NO_APPLECARE}),tagAttrs:{style:pe},childTop:z&&c().createElement(A.A,(0,r.A)({noScrim:!0,reduced:!0},(0,i.OH)(z))),childRight:s().isEmpty(ie)?ee&&!ae&&Q?c().createElement(c().Fragment,null,c().createElement("span",(0,r.A)({className:`rf-applecare-price ${v.A.BODY_REDUCED}`,"data-autom":"applecare_price"},(0,i.OH)(s().get(n,"priceString","")))),te&&c().createElement("span",(0,r.A)({className:`rf-applecare-tierlist-savings ${v.A.CAPTION}`},(0,i.OH)(te)))):B&&c().createElement(c().Fragment,null,c().createElement("span",(0,r.A)({className:`rf-applecare-price ${v.A.BODY_REDUCED}`,"data-autom":"applecare_price"},(0,i.OH)(B))),te&&c().createElement("span",(0,r.A)({className:`rf-applecare-tierlist-savings ${v.A.CAPTION}`},(0,i.OH)(te)))):c().createElement("span",(0,r.A)({className:`rf-applecare-price rf-applecare-included ${v.A.BODY_REDUCED}`},(0,i.OH)(me))),listChild:x||q||G||Y?c().createElement(c().Fragment,null,x&&c().createElement("div",(0,r.A)({className:"as-form-choiceselectordesc-list"},(0,i.OH)(x))),Y&&c().createElement("div",(0,r.A)({className:`rf-applecare-ipttext ${v.A.CAPTION}`},(0,i.OH)(Y))),G&&c().createElement("div",(0,r.A)({className:`rf-applecare-savingsmessage ${v.A.CAPTION}`},(0,i.OH)(G))),q&&c().createElement("div",(0,r.A)({className:`rf-applecare-tilelegalnote ${v.A.CAPTION}`},(0,i.OH)(q)))):null,classes:{input:"rf-applecare-selector",label:"rf-applecare-label",left:D?"rf-applecare-group-with-violator":""},handleChange:()=>{if(Z&&!Q&&F!==C.A.NO_APPLECARE){const e=K[0];le(!0),ce.current={...e,showAddButton:!(F===o&&n.value===e.value)}}else ue(Q?null:K[0]);Q&&k.fireMicroEvent({eVar:"eVar5",slot:"",feature:"Step 1",part:`${M}`,action:"selected"})},tag:"div","data-autom":F,threeLine:!T&&(F!==C.A.NO_APPLECARE||!se),skipChangeSelection:!0,withAriaLabeledBy:!0,isStackedLayout:!0,disabled:N},U?c().createElement("span",{"aria-hidden":"true",className:" rf-applecare-quote-icon"},c().createElement(y.Ay,{className:"rf-applecare-logo",data:U})):F!==C.A.NO_APPLECARE&&c().createElement("span",(0,r.A)({"aria-hidden":"true",className:p()({"rf-applecare-override-svg":de},"as-svgicon-container rf-applecare-quote-icon")},(0,i.OH)(h))),c().createElement(u._V,{text:M}),V&&c().createElement("span",{className:`rf-applecare-subheader ${v.A.BODY_REDUCED}`},c().createElement("span",(0,i.OH)(V)))),K.length>1?c().createElement("div",{className:"column large-12 small-12 rf-applecare-traywrapper",style:oe},c().createElement(m.A,{in:ee&&t},c().createElement("div",{className:"rf-applecare-tray"},c().createElement("fieldset",{"aria-describedby":"rf-applecare-tray-footer"},c().createElement("legend",null,j&&c().createElement("h3",(0,r.A)({className:`rf-applecare-tray-header ${v.A.BODY_REDUCED}`},(0,i.OH)(j)))),c().createElement("div",{className:"row"},c().createElement("div",{className:p()({"large-12":T,"large-6":!T},"small-12","rf-applecare-trayoption")},c().createElement(f.A,null,K.map(e=>c().createElement(c().Fragment,{key:`${e.key}-${e.value}`},c().createElement(g.Ay,(0,r.A)({name:"dimensionPaymentType",value:e.value,checked:ee&&n.value===e.value},(0,d.b)(()=>{Z||Ae(e),le(!0),ce.current={...e,showAddButton:n.value!==e.value}},!0),{"data-autom":`${F}_${e.value}`}),c().createElement("span",{className:"row"},c().createElement("span",{className:"form-selector-left-col column large-6"},c().createElement("span",(0,i.OH)(e.title)),e.desc&&c().createElement(u.ED,{text:e.desc}),e.paymentSelectorNote&&c().createElement(u.ED,{text:e.paymentSelectorNote}),e.savingsMessage&&c().createElement("div",(0,r.A)({className:`rf-applecare-savingsmessage ${v.A.CAPTION}`},(0,i.OH)(e.savingsMessage)))),e.isIUPAppleCare&&e.defaultAppleCareSelection?c().createElement("span",(0,r.A)({className:"form-selector-right-col column large-6"},(0,i.OH)(me))):c().createElement("span",(0,r.A)({className:"form-selector-right-col column large-6"},(0,i.OH)(e.priceString))))))))),c().createElement("div",{className:p()({"large-12":T,"large-6":!T},"small-12","rf-applecare-trayoption")},c().createElement("div",(0,r.A)({id:"rf-applecare-tray-footer",className:`rf-applecare-tray-footer ${v.A.CAPTION}`},(0,i.OH)(W)))))))),L&&(b||se)&&ee&&t&&Q&&c().createElement("div",{className:"column small-12 "},w())):null,Z&&c().createElement(O.A,{activeAcceptanceOverlayContent:_.activeAcceptanceOverlayContent,assets:R,shown:re,setShown:le,optionRef:ce,handleACWithMultiOptionsSelection:Ae,onDimensionSelection:ue,hasMultipleOptions:Q}))}},3513:(e,a,t)=>{t.d(a,{A:()=>P});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(3151),d=t(7213),u=t(632),A=t(6777),y=t(4768),v=t(6637),E=t(4682),f=t(3715),g=t(3113),h=t(5261),O=t(9461),C=t(8210),N=t(1043),S=t(5947),w=t(2117);const P=e=>{let{slotRef:a,disabled:t,dimensionSelections:n,purchaseOptions:o={},tradeInData:P,onDataLoading:b=s().noop,prevStepComplete:D,onChange:H=s().noop,isRightRail:T,isRightRailWithImage:$=!1,acPart:L,stepKey:R,showSummaryOnSelection:k=!0,shouldReplaceACBootstrap:I=!1,resetAppleCareSelection:_=!1,isPOCollapseClicked:F=!1,onReset:M=s().noop,classes:V={imageColumn:"",selectionColumn:"",decisionColumn:""},addOnPart:x="",...B}=e;const U=s().get(window.APPLECARE_BOOTSTRAP,"appleCareData",[]),G=s().get(window,"NAMED_ASSETS.isColdStateEnabled",!1),Y=s().get(window,"PRODUCT_SELECTION_BOOTSTRAP.productSelectionData.products",[]),q=s().get(window,"pageLevelData.PDPContent.purchaseInfo.partNumber"),K=s().get(window,"pageLevelData.productSelectionUrl.appleCareDataUrl"),j=(0,l.useRef)(!1),{globalContextAssets:W}=(0,v.S)(),[J]=(0,E.Ay)(),{acData:z,selectedAppleCareGroup:Q,selectedAppleCareOption:X={},trayOpen:Z,showSelectorView:ee,showCollapse:ae,showSummaryView:te,updateState:re=e=>e,resetState:le=e=>e,handleStateAfterDataFetch:ce=e=>e,prevData:ne=null}=(0,S.A)({bootstrap:U,initialAcPart:L,onChange:H,showSummaryOnSelection:k});let se=G?!D:t;se=se||j.current;const oe=(0,l.useRef)(null),pe={...z.namedFragments,...window.GLOBAL_ASSETS,...W},ie=(0,l.useMemo)(()=>{const e=s().omit(n,"carrierModel");let a=[],t=[];return Y.some(e=>"dimensions"in e)?(a=s().filter(Y.map(e=>({...e,...e.dimensions})),e),t=s().uniq(a.map(e=>{let{part:a}=e;return a}))):q?t[0]=q:(a=s().filter(Y,e),t=s().uniq(a.map(e=>{let{partNumber:a}=e;return a}))),t&&t.filter(e=>void 0!==e)},[JSON.stringify(n)]),{dimensions:me=[],familyType:de,compatibleWuip:ue,groupSectionHeader:Ae,groupSectionSubHeader:ye,hasViolator:ve,defaultAppleCarePlanLogo:Ee={},isSingleACType:fe,creditOfferDownPayment:ge=""}=z,{selectedPurchaseGroupType:he,selectedPurchaseOption:Oe}=o,Ce=n?.carrierModel||"",Ne=Object.keys(me).length,Se=Ne>3?2:Ne,we=2===Se,Pe="small"===J,be=!s().isEmpty(Ee),De=(0,C.A)(Q,me),He=!s().isEmpty(De),Te=!s().isEmpty(z),$e=(0,l.useRef)(ue),Le=(0,l.useRef)(null),Re=e=>{b(e),j.current=e};(0,l.useEffect)(()=>{if(K&&(1===ie.length||x)){const e={url:K,...1===ie.length&&{purchaseOption:Oe,purchaseOptionGroupType:he,tradeInData:P,cppart:Ce,partNumbers:ie},...x&&{partNumbers:[x]}};Re(!0),(0,O.A)(e).then(e=>{const a=s().get(e,"body");ce(a,$e,L),Re(!1)}).catch(()=>{Re(!1)})}},[Oe,Ce,JSON.stringify(ie),x]),(0,l.useEffect)(()=>{_&&(le(I?{acData:(0,N.A)(U),prevData:z}:null),M()),!_&&F&&(le({acData:ne,prevData:{}}),M(!0))},[_,F]);const ke=()=>ae&&c().createElement("div",{className:`rf-applecare-collapse ${y.A.BODY}`},c().createElement("button",{type:"button",className:"as-buttonlink rf-applecare-collapse-button","data-autom":"applecare_collapseButton",onClick:()=>(re({trayOpen:!1}),void setTimeout(()=>{re({showSelectorView:!1})},400))},c().createElement("span",(0,i.OH)(pe.collapse||"Collapse")),c().createElement("span",{className:"icon icon-after icon-chevronup rf-applecare-collapse-icon"}))),Ie=(0,m.A)(Z?Q:null),_e={trayOpen:Z,selectedAppleCareOption:X,selectedAppleCareGroup:Q,updateState:re,renderCollapseButton:ke,isDisabled:se,itemsPerRowLarge:Se,showTwoTilesPerRow:we,groupHasViolator:!(T||$)&&!Pe&&ve,onChange:H,preSelectionPart:L,isRightRail:T||$,showSummaryOnSelection:k,assets:pe,isSingleACType:fe,...B};return Te&&c().createElement("div",{ref:a,"data-analytics-section":"applecare","data-autom":"applecare"},c().createElement("div",{className:"rf-applecare-section",role:"region"},c().createElement("div",{className:p()("row",{"rf-applecare-section-disabled":se,"rf-applecare-section-enabled":!se,"rf-applecare-section-complete":!se&&!s().isEmpty(X)})},$&&be&&c().createElement("div",{className:p()("rf-applecare-image-column column",V.imageColumn)},c().createElement(d.A,{in:be},c().createElement(A.Ay,{className:"rf-applecare-image",data:He?De:Ee}))),c().createElement("div",{className:p()({"rf-applecare-column-left":!$||!be,[V.selectionColumn]:$&&be})},c().createElement("h2",{id:"rf-applecare-section-heading",className:p()("rf-applecare-section-heading",Pe?y.A.MANIFESTO:y.A.EYEBROW),tabIndex:-1,ref:oe},Ae&&c().createElement("span",(0,i.OH)(Ae)),ye&&c().createElement("span",(0,r.A)({className:"rf-applecare-section-subheading"},(0,i.OH)(ye)))),c().createElement(d.A,{className:"rf-applecare-content",in:ee,onEnter:()=>{let e;e=!(!s().isEmpty(X)&&!X.hasMultipleOptions),re({trayOpen:e})},onExited:()=>{re({trayOpen:!1,showSummaryView:!0})}},c().createElement(u.c6,{name:`inlinetile-options-${de}`,key:"inlinetile-options","aria-labelledby":"rf-applecare-section-heading"},c().createElement("div",{className:p()("row",{"rf-applecare-trayopen":k&&!Pe&&Z&&Ie})},Object.keys(me).map((e,a)=>c().createElement(c().Fragment,{key:e},c().createElement(g.A,(0,r.A)({dimension:me[e],orderIndex:a+1},_e)))))),k&&!we&&!Pe&&Z&&ke(),T&&ge&&c().createElement("div",(0,r.A)({className:`rf-applecare-creditoffer-downpayment ${y.A.CAPTION}`},(0,i.OH)(ge)))),c().createElement(d.A,{in:k&&te,onEntered:()=>{const{current:e}=Le;e&&te&&e.focus(),re({trayOpen:!1})},onExited:()=>{fe&&!X?.hasMultipleOptions||re({showSelectorView:!0})},className:"rf-applecare-summary"},c().createElement(h.A,{hideEditOpt:fe&&!X.hasMultipleOptions,editRef:Le,selectedAppleCareOption:X,handleSelectionEdit:()=>{re({showSummaryView:!1,trayOpen:!1,showCollapse:!0}),oe.current&&oe.current.focus(),w.L()},assets:pe,isSingleACType:fe}))),!fe&&c().createElement("div",{className:p()({"rf-applecare-column-right":!$||!be,[V.decisionColumn]:$&&be})},c().createElement(f.A,{stepKey:R,isDisabled:se,updatedPartNumbers:ie,purchaseOptions:o,appleCareOptions:me,cppart:Ce,tradeInData:P})))))}},3715:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(2688),p=t(9491);const i=e=>{let{stepKey:a,isDisabled:t,appleCareOptions:l,...n}=e;const i=window?.decisionSection?.appleCare,m=s().get(i,"appleCareDataUrl",null),d=s().get(i,"displayActiveAcceptanceOverlay",!1);return c().createElement(c().Fragment,null,i&&c().createElement("div",{className:"rf-applecare-decision-support"},c().createElement(o.A,{content:i,sectionKey:a,disabled:t,customButtonLink:d?c().createElement("button",{type:"button",className:"as-compareapplecare-learnmore","data-ase-overlay":"active-acceptance-decision-overlay","data-ase-click":"show","data-href":m,"data-autom":"active-acceptance-decision-learnmore"}):null}),c().createElement(p.A,(0,r.A)({showActiveAcceptanceOverlay:d,appleCareOptions:l},n))))}},4682:(e,a,t)=>{t.d(a,{Ay:()=>r.A});var r=t(9080);t(7428),t(6169)},4851:(e,a,t)=>{t.d(a,{A:()=>E});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(3616),d=t(4768),u=t(3043),A=t(9754),y=t(2626);const v=e=>{let{overlayAppleCarePlans:a=[],overlayKeyFeatures:t=""}=e;return c().createElement(c().Fragment,null,c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-keyfeatures"},(0,i.OH)(t))),a?.length>0&&c().createElement("div",{className:p()("rf-applecare-overlay-plans",{"rf-applecare-overlay-single-plan":1===a.length})},a.map(e=>c().createElement("div",{className:"rf-applecare-overlay-plan",key:`keyfeature_${e?.appleCareType}`},e?.title&&c().createElement("div",{className:"rf-applecare-overlay-title-wrapper"},c().createElement("span",(0,r.A)({"aria-hidden":"true",className:p()({"rf-applecare-override-svg":!0},"as-svgicon-container rf-applecare-quote-icon")},(0,i.OH)(u))),c().createElement("h3",(0,r.A)({className:"rf-applecare-overlay-plan-title"},(0,i.OH)(e.title)))),e?.shortDescription&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-plan-desc"},(0,i.OH)(e.shortDescription))),e?.groupPriceString&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-plan-price"},(0,i.OH)(e.groupPriceString))),e?.tileFooterNote&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-plan-tilefooter"},(0,i.OH)(e.tileFooterNote)))))))},E=e=>{let{appleCareOptions:a={},...t}=e;const{overlayHeaderImage:n,overlayHeader:o,overlayDescription:u,overlaySecondaryDescription:E,overlaySecondaryHeader:f,overlayVideo:g,overlayKeyFeatures:h,overlayFooter:O,overlayAppleCarePlans:C,iptText:N}=t||{},S=s().get(t,"namedAssets.namedAssets.overlayPriceDisplay",!1),w=s().get(t,"namedAssets.namedAssets.showCompareCoverageOptions",!1),P=(0,l.useMemo)(()=>{const e=Object.keys(a).filter(e=>e!==y.A.NO_APPLECARE).find(e=>a[e].meta.additionalData?.groupPriceString);return s().get(a,`[${e}].meta.additionalData.groupPriceString`,"")},[a]),{translatedFragmentText:b,sectionFooter:D}=g||{},H=!s().isEmpty(h);return c().createElement("div",{className:p()({"rf-applecare-overlay-with-keyfeatures rf-applecare-overlay-left-aligned":H})},c().createElement("div",{className:"rf-applecare-overlay-header-section"},n&&c().createElement("span",(0,i.OH)(n)),o&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-header"},(0,i.OH)(o)))),S&&c().createElement("div",{className:"rf-applecare-overlay-inlinetile-price"},c().createElement("span",(0,i.OH)(P))),N&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-inlinetile-ipttext"},(0,i.OH)(N))),c().createElement("div",{className:"rf-applecare-overlay-video-section"},u&&c().createElement("div",(0,r.A)({className:`rf-applecare-overlay-videodesc ${d.A.BODY}`},(0,i.OH)(u)))),g&&c().createElement("div",{className:"rf-applecare-overlay-video"},c().createElement(m.L9,{data:g}),c().createElement("div",(0,r.A)({className:`rf-applecare-overlay-videoplayer-footer ${d.A.BODY_REDUCED}`},(0,i.OH)(D))),c().createElement(m.Rt,{showDownloadLink:!0,assets:g},c().createElement("div",(0,i.OH)(b)))),f&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-secondary-header"},(0,i.OH)(f))),E&&!w&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-secondary-desc"},(0,i.OH)(E))),H&&!w&&c().createElement(v,{overlayAppleCarePlans:C,overlayKeyFeatures:h}),w&&c().createElement("div",{className:"rf-applecare-overlay-bau-section"},c().createElement(A.A,{overlayAppleCarePlans:C,overlaySecondaryDescription:E,overlayData:t})),O&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-footer"},(0,i.OH)(O))))}},5261:(e,a,t)=>{t.d(a,{A:()=>A});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(8552),d=t(6777),u=t(4768);const A=e=>{let{selectedAppleCareOption:a,handleSelectionEdit:t=()=>{},editRef:l,assets:n,hideEditOpt:o=!1,isSingleACType:A}=e;const{tileHeader:y,priceString:v,tileDescription:E,appleCareTileLogo:f,iptText:g,summaryPaymentSelectorNote:h,tileFootnote:O,subHeader:C}=a,N=f&&"object"==typeof f,S=s().get(n,"svgOverrideForApplecare",""),w=A?a?.includedText:a?.header;return c().createElement("div",{className:"rf-applecare-summary-view"},c().createElement("div",{className:"row"},c().createElement("div",{className:p()("column",{"large-9 small-12":!o,"large-12 small-12":o},"rf-applecare-summary-view-header")},N?c().createElement("span",{"aria-hidden":"true",className:" rf-applecare-summary-view-icon"},c().createElement(d.Ay,{className:"rf-applecare-summary-logo",data:f})):c().createElement("span",(0,r.A)({"aria-hidden":"true",className:p()({"rf-applecare-override-svg":S},"as-svgicon-container rf-applecare-summary-view-icon")},(0,i.OH)(m))),c().createElement("div",null,c().createElement("div",{className:`rf-applecare-summary-view-label ${u.A.BODY}`,"data-autom":"applecare-quote-label"},y&&c().createElement("span",(0,i.OH)(y))),c().createElement("div",{className:`rf-applecare-summary-view-option ${u.A.BODY}`,"data-autom":"applecare-quote-text"},w&&c().createElement("span",(0,i.OH)(w))),c().createElement("div",{className:"rf-applecare-summary-view-price","data-autom":"applecare-quote-price"},v&&c().createElement("span",(0,i.OH)(v))),c().createElement("div",{className:`rf-applecare-summary-view-desc ${u.A.CAPTION}`},E&&c().createElement("div",(0,r.A)({className:"rf-applecare-summary-view-desc-list"},(0,i.OH)(E)))),h&&c().createElement("div",(0,r.A)({className:`rf-applecare-summary-pricedesc ${u.A.CAPTION}`},(0,i.OH)(h))),g&&c().createElement("div",(0,r.A)({className:`rf-applecare-summary-ipttext ${u.A.CAPTION}`},(0,i.OH)(g))),C&&c().createElement("div",(0,r.A)({className:`rf-applecare-summary-subheader ${u.A.CAPTION}`},(0,i.OH)(C))),A&&O&&c().createElement("div",(0,r.A)({className:`rf-applecare-summary-footnotes ${u.A.CAPTION}`},(0,i.OH)(O))))),!o&&c().createElement("div",{className:"column large-3 small-12 rf-applecare-summary-view-action"},c().createElement("button",{type:"button","data-autom":"summary-view-edit-link",className:`as-buttonlink ${u.A.BODY}`,onClick:t,ref:l},c().createElement("span",null,s().get(n,"edit")||"Edit"),y&&c().createElement("span",(0,r.A)({className:"visuallyhidden"},(0,i.OH)(y)))))))}},5377:(e,a,t)=>{t.d(a,{A:()=>m});var r=t(8168),l=t(1594),c=t.n(l),n=t(6942),s=t.n(n),o=t(5911),p=t(4768),i=t(6777);const m=e=>{let{overlayHeaderId:a="",activeAcceptanceOverlayContent:t={},classnames:l={},overlayAddButton:n,overlayPriceString:m,subHeader:d,enableAASelectorHeaderNote:u,enableAASelectorFooterNote:A}=e;const{activeAcceptanceLogo:y,activeAcceptanceDescription:v,activeAcceptanceHeader:E,iptText:f,activeAcceptanceLegalSelectorHeaderNote:g,activeAcceptanceLegalSelectorFooterNote:h}=t;return c().createElement("div",{className:"rf-activeacceptance-overlay-content"},c().createElement("div",{className:"rf-applecare-overlay-header"},y&&c().createElement(i.Ay,{className:"rf-applecare-overlay-image",data:y}),c().createElement("h2",{id:a,className:s()("rf-applecare-overlay-header-title",l.headerClass)},c().createElement("span",(0,o.OH)(E)))),c().createElement("div",{className:"rf-applecare-overlay-body"},m&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-price"},(0,o.OH)(m))),d&&c().createElement("div",(0,r.A)({className:s()("rf-applecare-overlay-subheader",p.A.CAPTION)},(0,o.OH)(d))),u&&g&&c().createElement("div",(0,r.A)({className:s()("rf-applecare-overlay-paymentdesc",p.A.CAPTION)},(0,o.OH)(g))),f&&c().createElement("div",(0,r.A)({className:s()("rf-applecare-overlay-ipttext",p.A.CAPTION)},(0,o.OH)(f))),n&&c().createElement("div",{className:"rf-applecare-overlay-button"},n," "),v&&c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-desc"},(0,o.OH)(v)))),A&&h&&c().createElement("div",(0,r.A)({className:s()("rf-applecare-overlay-payment-footnotes",p.A.CAPTION)},(0,o.OH)(h))))}},5641:(e,a,t)=>{t.d(a,{A:()=>A});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(5911),p=t(4926),i=t(7466),m=t(9888),d=t(4768),u=t(5377);const A=e=>{let{activeAcceptanceOverlayContent:a,shown:t,optionRef:l={},handleACWithMultiOptionsSelection:n,onDimensionSelection:A,hasMultipleOptions:y,setShown:v,assets:E,...f}=e;const g=s().get(E,"add",""),h=s().get(window,"pageLevelData.chat.chatContent"),O=s().get(window,"pageLevelData.chat.chatFeature"),C=l?.current||{},{partNumber:N,showAddButton:S,enableAASelectorHeaderNote:w,enableAASelectorFooterNote:P,subHeader:b}=C,D=s().get(a,"appleCaresPriceMap",{}),H=s().get(D,[N,"priceString"],null),T="active-acceptance-overlay-header",$=h?c().createElement("div",{className:"rf-applecare-overlay-chat-footer"},c().createElement(m.A,{data:h,withExternalIcon:!0})):c().createElement("div",(0,r.A)({className:"rf-applecare-overlay-chat-footer"},(0,o.OH)(O)));return c().createElement(p.eA,{visible:t,onClose:()=>v(!1),classes:{root:"rf-applecare-overlay",content:"rf-applecare-overlay-content"},footerContent:$},c().createElement(u.A,(0,r.A)({overlayHeaderId:T,activeAcceptanceOverlayContent:a,classnames:{headerClass:d.A.HEADLINE_REDUCED},overlayAddButton:S?c().createElement(i.A,{onClick:()=>{y?n(C):A(C),v(!1)},className:"button-super","data-autom":"inlineapplecare_overlay_add","aria-describedby":T},g):null,overlayPriceString:H,subHeader:b,enableAASelectorHeaderNote:w,enableAASelectorFooterNote:P},f)))}},5947:(e,a,t)=>{t.d(a,{A:()=>m});var r=t(1594),l=t(2224),c=t.n(l),n=t(5646),s=t(2684),o=t(1043);const p="UPDATE",i=(e,a)=>a.type===p?{...e,...a.newState,overlayData:{...a.payload}}:{...e},m=e=>{let{bootstrap:a=[],initialAcPart:t="",onChange:l=e=>e,showSummaryOnSelection:m=!1}=e;const d={acData:(0,o.A)(a),selectedAppleCareGroup:null,selectedAppleCareOption:{},trayOpen:!1,showSelectorView:!0,showSummaryView:!1,showCollapse:!1,overlayData:{}},[u,A]=(0,r.useReducer)(i,d),[y,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){const{acData:e}=u,a=g(e,t);c().isEmpty(a)||h(a,e)}},[]);const E=e=>{A({type:p,newState:e})},f=function(){A({type:p,newState:{selectedAppleCareGroup:null,selectedAppleCareOption:{},trayOpen:!1,showSelectorView:!0,showSummaryView:!1,showCollapse:!1,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{dimensions:t={},isSingleACType:r}=e;if(c().isEmpty(t))return{};const l=Object.values(t);let n=null,s=null;if(a&&(n=l.find(e=>c().get(e,"meta.options",[]).some(e=>e?.additionalParams?.acpart===a)),n)){s=c().get(n,"meta.options",[]).find(e=>e?.additionalParams?.acpart===a)||{}}if(n||(n=l.find(e=>e?.meta?.hasDefaultSelection)),!n)return{};const{meta:o={},appleCareType:p}=n,{additionalData:i={},hasMultipleOptions:m,options:d=[],activeAcceptanceOverlayContent:u={}}=o,{tileHeader:A,tileDescription:y,appleCareTileLogo:v,iptText:E,tileFootnote:f}=i;return c().isEmpty(s)&&(s=d.find(e=>e?.isIUPAppleCare&&e?.defaultAppleCareSelection)||{}),c().isEmpty(s)?{}:{opt:s,fireMetricsOnSelection:!1,appleCareType:p,hasMultipleOptions:m,isSingleACType:r,assets:{tileHeader:A,tileDescription:y,appleCareTileLogo:v,iptText:E,tileFootnote:f,summaryPaymentSelectorNote:s.enableAASelectorHeaderNote?c().get(u,"activeAcceptanceLegalSelectorHeaderNote",null):null,includedText:s.includedText,header:s.title,priceString:s.priceString,tierListSavings:s.tierListSavings}}},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{opt:t={},fireMetricsOnSelection:r,appleCareType:c,hasMultipleOptions:n,assets:s={}}=e,o={acData:a,selectedAppleCareOption:{appleCareType:c,value:t.value,hasMultipleOptions:n,...s},selectedAppleCareGroup:c,showCollapse:!1,trayOpen:!m};m&&u.showSelectorView&&(o.showSelectorView=!(n||a?.isSingleACType));const p={selection:t.additionalParams||{},slotKey:"applecare",summaryShown:!1,wasDrawerOpen:u.trayOpen,appleCareType:t.appleCareType,defaultAppleCareSelection:t.defaultAppleCareSelection,dimensionPaymentType:t.value,rawPrice:t.rawPrice,fireMetricsOnSelection:r};E(o),l(p)};return{...u,updateState:E,resetState:f,handleStateAfterDataFetch:(e,a,t)=>{const r=e?.appleCareData||[],n=(0,o.A)(r),s=a.current===n.compatibleWuip;a.current=n.compatibleWuip;if(c().isEmpty(n)||!s){const e={acData:n,shouldAddPreselection:!1},a={selection:{},slotKey:"applecare",summaryShown:!1,wasDrawerOpen:!1,isHidden:c().isEmpty(n),fireMetricsOnSelection:!1};return f(e),void l(a)}const p=g(n,t);c().isEmpty(p)?f({acData:n}):h(p,n)},fetchOverlayData:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const l=(0,n.tG)("use-applecare-overlay/fetchData"),o={},{purchaseOption:i,cppart:m,tia:d}=a;i&&(o.purchaseOption=i),m&&(o.cppart=m),null!=d&&(o.tia=d),t.forEach((e,a)=>{o[`parts.${a}`]=e});const u=c().isEmpty(o)?e:s.k0(e,o);(0,n.hI)(u).then(e=>{v(!0),A({type:p,payload:{data:r?c().get(e.body,r):e.body}})}).catch(e=>l.error(e))},closeOverlay:()=>{v(!1)},showOverlay:y,openOverlay:()=>{v(!0)}}}},6169:()=>{},6497:(e,a,t)=>{t.d(a,{A:()=>N});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(6942),p=t.n(o),i=t(5911),m=t(1345),d=t(7213),u=t(632),A=t(4768),y=t(4682),v=t(9932),E=t(3471),f=t(2019),g=t(6777),h=t(3043),O=t(2626),C=t(2588);const N=e=>{let{accessoryPart:a,dimension:t={},trayOpen:l,selectedAppleCareOption:n,selectedAppleCareGroup:o,isDisabled:N,updateState:S,itemsPerRowLarge:w=2,showTwoTilesPerRow:P,groupHasViolator:b,orderIndex:D,assets:H}=e;const{meta:T,appleCareType:$}=t,{tileHeader:L,tileSubHeader:R,tileDescription:k,groupPriceString:I,appleCareTileLogo:_}=s().get(T,"additionalData",{}),F=s().get(T,"options",[]),M=s().get(T,"secondarySelectionHeader",""),V=s().get(T,"secondarySelectionNote",""),x=s().get(T,"tileViolator",""),B=w,[U]=(0,y.Ay)(),G="small"===U,Y=P&&!G?{order:D%2==0?D+1:D+2}:null,q=P&&!G?{order:D}:null,K=s().get(H,"included","Included"),j=s().get(H,"svgOverrideForApplecare","");return c().createElement(c().Fragment,null,c().createElement(u.gW,{name:"applecare-options",checked:o===$,className:p()("column","large-"+12/B,"small-12","rf-attach-applecare-option",{"rf-attach-applecare-even-option":P&&D%2==0,"rf-attach-applecare-option-selected":o===$,"rf-no-applecare-option":$===O.A.NO_APPLECARE}),tagAttrs:{style:q},childTop:x&&c().createElement(f.A,(0,r.A)({noScrim:!0,reduced:!0},(0,i.OH)(x))),childRight:I&&c().createElement("span",{className:`rf-attach-applecare-price ${A.A.BODY_REDUCED}`,"data-autom":"applecare_price"},c().createElement("span",(0,i.OH)(I))),listChild:k&&c().createElement("div",(0,r.A)({className:"as-form-choiceselectordesc-list"},(0,i.OH)(k))),classes:{input:"rf-attach-applecare-selector",label:"rf-attach-applecare-label",left:b?"rf-attach-applecare-group-with-violator":""},handleChange:()=>{$!==o&&(e=>{let t={selectedAppleCareGroup:$};F.length>1?(t={...t,selectedAppleCareOption:{},trayOpen:!0},(0,C.$y)({sku:a,acValue:$,partString:L})):(t=$===O.A.NO_APPLECARE?{...t,selectedAppleCareOption:{}}:{...t,selectedAppleCareOption:{selectedSummaryPrice:e?.selectedSummaryPrice,value:e?.value,additionalParams:e?.additionalParams,title:L,rawPrice:e?.rawPrice},showCollapse:!1,trayOpen:!1},(0,C.$y)({sku:a,acValue:$,dimensionPaymentType:e?.value,acPart:e?.partNumber})),S(t)})(F.length>1?null:F[0])},tag:"div","data-autom":$,threeLine:!0,skipChangeSelection:!0,withAriaLabeledBy:!0,isStackedLayout:!0,disabled:N},_?c().createElement("span",{"aria-hidden":"true",className:"rf-attach-applecare-quote-icon"},c().createElement(g.Ay,{className:"rf-attach-applecare-logo",data:_})):$!==O.A.NO_APPLECARE&&c().createElement("span",(0,r.A)({"aria-hidden":"true",className:p()({"rf-attach-applecare-override-svg":j},"as-svgicon-container rf-attach-applecare-quote-icon")},(0,i.OH)(h))),c().createElement(u._V,{text:L}),R&&c().createElement("span",{className:`rf-attach-applecare-subheader ${A.A.BODY_REDUCED}`},c().createElement("span",(0,i.OH)(R)))),F.length>1?c().createElement("div",{className:"column large-12 small-12 rf-attach-applecare-traywrapper",style:Y},c().createElement(d.x,{in:o===$&&l},c().createElement("div",{className:"rf-attach-applecare-tray"},c().createElement("fieldset",{"aria-describedby":"rf-attach-applecare-tray-footer"},c().createElement("legend",null,M&&c().createElement("h3",(0,r.A)({className:`rf-attach-applecare-tray-header ${A.A.BODY_REDUCED}`},(0,i.OH)(M)))),c().createElement("div",{className:"row"},c().createElement("div",{className:p()("large-12","small-12","rf-attach-applecare-trayoption")},c().createElement(v.A,null,F.map(e=>c().createElement(c().Fragment,{key:`${e.key}-${e.value}`},c().createElement(E.Ay,(0,r.A)({name:"dimensionPaymentType",value:e.value,checked:o===$&&n.value===e.value},(0,m.b)(()=>{var t;t=e,S({selectedAppleCareOption:{selectedSummaryPrice:t?.selectedSummaryPrice,value:t?.value,additionalParams:t?.additionalParams,title:L,rawPrice:t?.rawPrice},selectedAppleCareGroup:$,showCollapse:!1,trayOpen:!0}),(0,C.$y)({sku:a,acValue:$,dimensionPaymentType:t?.value,acPart:t?.partNumber})},!0),{"data-autom":`${$}_${e.value}`}),c().createElement("span",{className:"row"},c().createElement("span",{className:"form-selector-left-col column large-8 small-6"},c().createElement("span",(0,i.OH)(e.title)),e.desc&&c().createElement(u.ED,{text:e.desc})),e.isIUPAppleCare&&e.defaultAppleCareSelection?c().createElement("span",(0,r.A)({className:"form-selector-right-col column large-4 small-6"},(0,i.OH)(K))):c().createElement("span",(0,r.A)({className:"form-selector-right-col column large-4 small-6"},(0,i.OH)(e.priceString))))))))),c().createElement("div",{className:p()("large-12","small-12","rf-attach-applecare-trayoption")},c().createElement("div",(0,r.A)({id:"rf-attach-applecare-tray-footer",className:`rf-attach-applecare-tray-footer ${A.A.CAPTION}`},(0,i.OH)(V))))))))):null)}},7086:(e,a,t)=>{t.d(a,{A:()=>r});const r=()=>{window.asMetrics&&window.asMetrics.fireMicroEvent({eVar:"eVar6",slot:"Step 1 - Link",feature:"Compare coverage options",action:"Selected"})}},7428:(e,a,t)=>{t(1594),t(9080)},7770:(e,a,t)=>{t.d(a,{A:()=>r.A,B:()=>l.A});var r=t(3513),l=t(154)},8210:(e,a,t)=>{t.d(a,{A:()=>r});const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=a?.[e];return t?.meta?.appleCarePlanLogo||null}},9461:(e,a,t)=>{t.d(a,{A:()=>c});var r=t(5646),l=t(2684);const c=e=>{let{url:a,purchaseOption:t,purchaseOptionGroupType:c,tradeInData:n,cppart:s,partNumbers:o}=e;const p=(0,r.tG)("fetch-applecare-data/fetchApplecareData");let i={};t&&(i.purchaseOption=t),c&&(i.purchaseOptionGroupType=c),s&&(i.cppart=s),o.forEach((e,a)=>{i[`parts.${a}`]=e}),i={...i,...n};const m=l.k0(a,i);return new Promise((e,a)=>{(0,r.hI)(m).then(a=>{e(a)}).catch(e=>{p.error(e),a(e)})})}},9491:(e,a,t)=>{t.d(a,{A:()=>E});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(791),p=t(4926),i=t(9888),m=t(5377),d=t(4851),u=t(5947),A=t(7086),y=t(1043),v=t(2626);const E=e=>{let{appleCareOptions:a,showActiveAcceptanceOverlay:t=!1,updatedPartNumbers:n=[],purchaseOptions:E={},cppart:f="",tradeInData:g={}}=e;const h=s().get(window,"pageLevelData.chat.chatContent",{}),O=h?c().createElement(i.A,{data:h}):null,C=(0,l.useRef)(),N={purchaseOption:s().get(E,"selectedPurchaseOption",""),cppart:f,tia:s().get(g,"tia")},{overlayData:{data:S},showOverlay:w,fetchOverlayData:P,closeOverlay:b}=(0,u.A)({});return(0,l.useEffect)(()=>{const{current:e}=C;if(!w&&e){e.querySelectorAll("video").forEach(e=>e.pause())}},[w]),(0,o.A)("click",e=>{const a=e.target;if(a&&a.matches('[data-ase-overlay = "compare-applecare-overlay"]')){e.preventDefault();let t=a.getAttribute("data-href");P(t,N,n,"appleCareOverlay"),(0,A.A)()}else if(a&&a.matches('[data-ase-overlay = "active-acceptance-decision-overlay"]')){let e=a.getAttribute("data-href");P(e,N,n),(0,A.A)()}}),c().createElement(p.eA,{visible:w,onClose:b,className:"rf-applecare-overlay",ariaLabel:"rf-applecare-overlay",footerContent:O&&c().createElement("div",{className:"rf-overlay-chat-withbackgroundfooter"},O),"data-analytics-content-id":"applecare-overlay","data-analytics-link-region":"selectionarea",ref:C,unmountOnExit:!0},t?c().createElement(m.A,(e=>{const{dimensions:a=[]}=(0,y.A)(s().get(e,"appleCareData",[])),t=Object.keys(a).filter(e=>e!==v.A.NO_APPLECARE).find(e=>a[e].meta.activeAcceptanceEnabled);return{activeAcceptanceOverlayContent:s().get(a,`${t}.meta.activeAcceptanceOverlayContent`,{})}})(S)):c().createElement(d.A,(0,r.A)({},S,{appleCareOptions:a})))}},9754:(e,a,t)=>{t.d(a,{A:()=>i});var r=t(8168),l=t(1594),c=t.n(l),n=t(2224),s=t.n(n),o=t(5911),p=t(6637);const i=e=>{let{overlaySecondaryDescription:a,overlayData:t,overlayAppleCarePlans:l=[]}=e;const{viewport:n}=(0,p.S)(),i="small"===n,m=s().get(t,"namedAssets.namedAssets.overlayTableHeaderHiddenText","");return c().createElement("div",{className:"rf-accessoryslot-coverageoptions-body"},i?c().createElement("div",{className:"rf-accessoryslot-coverageoptions-compareitem"},l?.map(e=>c().createElement(c().Fragment,null,c().createElement("div",(0,r.A)({className:"rf-accessoryslot-coverageoptions-subheading"},(0,o.OH)(s().get(e,"title")))),c().createElement("div",(0,r.A)({className:"rf-accessoryslot-coverageoptions-price"},(0,o.OH)(s().get(e,"groupPriceString")))),c().createElement("div",(0,r.A)({className:"rf-accessoryslot-coverageoptions-descriptionlist"},(0,o.OH)(s().get(e,"tileDescription"))))))):c().createElement("table",{className:"rf-accessoryslot-coverageoptions-table"},m&&c().createElement("caption",(0,r.A)({className:"visuallyhidden"},(0,o.OH)(m))),c().createElement("thead",{className:"rf-accessoryslot-coverageoptions-tableheader"},c().createElement("tr",null,c().createElement("th",null,c().createElement("span",(0,r.A)({className:"visuallyhidden"},(0,o.OH)(m)))),l?.map(e=>c().createElement("th",{key:`_coverageoptions_price_${e.appleCareType}`},c().createElement("span",(0,r.A)({className:"rf-accessoryslot-coverageoptions-subheading"},(0,o.OH)(s().get(e,"title")))))))),c().createElement("tbody",{className:"rf-accessoryslot-coverageoptions-tablebody"},c().createElement("tr",null,c().createElement("td",null),l?.map(e=>c().createElement("td",{key:e.appleCareType},c().createElement("span",(0,r.A)({className:"rf-accessoryslot-coverageoptions-price"},(0,o.OH)(s().get(e,"groupPriceString")))))))),c().createElement("tbody",(0,r.A)({className:"rf-accessoryslot-coverageoptions-tablecontent"},(0,o.OH)(a)))))}}}]);